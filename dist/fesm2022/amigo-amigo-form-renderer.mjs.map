{"version":3,"file":"amigo-amigo-form-renderer.mjs","sources":["../../src/form-group.builder.ts","../../src/auth-token.provider.ts","../../src/amigo-token.interceptor.ts","../../src/config.ts","../../src/amigo-api-execution.service.ts","../../src/amigo-form.service.ts","../../src/amigo-select-options.service.ts","../../src/amigo-form.component.ts","../../src/amigo-form.component.html","../../amigo-amigo-form-renderer.ts"],"sourcesContent":["import {\n  AbstractControl,\n  FormControl,\n  FormGroup,\n  ValidationErrors,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport { FormFieldSchema } from './models';\n\nexport function buildFormGroup(fields: FormFieldSchema[], initialValue?: Record<string, any>): FormGroup {\n  const group: Record<string, FormControl> = {};\n  for (const f of fields as any[]) {\n    const t = String(f?.type ?? '');\n    if (t === 'card' || t === 'info-card' || t === 'button') continue;\n\n    const v = f.validations ?? {};\n    const required = f.required === true || f.required === 'true' || v.required === true;\n\n    const validators: ValidatorFn[] = [];\n    if (required) {\n      if (t === 'checkbox') validators.push(Validators.requiredTrue);\n      else if (t === 'file') validators.push(fileRequiredValidator());\n      else validators.push(Validators.required);\n    }\n\n    if (typeof v.minLength === 'number') validators.push(Validators.minLength(v.minLength));\n    if (typeof v.maxLength === 'number') validators.push(Validators.maxLength(v.maxLength));\n    if (typeof v.min === 'number') validators.push(Validators.min(v.min));\n    if (typeof v.max === 'number') validators.push(Validators.max(v.max));\n    if (v.pattern) validators.push(Validators.pattern(v.pattern));\n    if (t === 'email') validators.push(Validators.email);\n\n    if (t === 'file') {\n      const maxFiles = typeof f.maxFiles === 'number' ? f.maxFiles : f.multiple ? undefined : 1;\n      const maxSizeMB = typeof f.maxSizeMB === 'number' ? f.maxSizeMB : undefined;\n      const accept = normalizeAccept(f.accept);\n\n      if (maxFiles !== undefined) validators.push(fileMaxFilesValidator(maxFiles));\n      if (maxSizeMB !== undefined) validators.push(fileMaxSizeValidator(maxSizeMB));\n      if (accept) validators.push(fileAcceptValidator(accept));\n    }\n\n    const key = f.name ?? f.id;\n    const init =\n      initialValue?.[key] ??\n      (t === 'checkbox'\n        ? false\n        : t === 'select' || t === 'radio'\n        ? null\n        : t === 'file'\n        ? null\n        : '');\n\n    group[key] = new FormControl(init, validators);\n  }\n\n  return new FormGroup(group);\n}\n\nexport function normalizeAccept(a?: string): string | undefined {\n  if (!a) return undefined;\n  const s = String(a).trim().toLowerCase();\n  return s || undefined;\n}\n\nfunction fileRequiredValidator(): ValidatorFn {\n  return (c: AbstractControl): ValidationErrors | null => {\n    const v = c.value;\n    if (!v) return { required: true };\n    if (Array.isArray(v)) return v.length ? null : { required: true };\n    return null;\n  };\n}\n\nfunction fileMaxFilesValidator(maxFiles: number): ValidatorFn {\n  return (c: AbstractControl): ValidationErrors | null => {\n    const v = c.value;\n    if (!v) return null;\n    const count = Array.isArray(v) ? v.length : 1;\n    return count > maxFiles ? { maxFiles: { maxFiles, actual: count } } : null;\n  };\n}\n\nfunction fileMaxSizeValidator(maxSizeMB: number): ValidatorFn {\n  const maxBytes = maxSizeMB * 1024 * 1024;\n  return (c: AbstractControl): ValidationErrors | null => {\n    const v = c.value;\n    if (!v) return null;\n    const files: File[] = Array.isArray(v) ? v : [v];\n    const tooLarge = files.find((f) => f?.size > maxBytes);\n    return tooLarge ? { maxSizeMB: { maxSizeMB, actualBytes: tooLarge.size } } : null;\n  };\n}\n\nfunction fileAcceptValidator(accept: string): ValidatorFn {\n  const parts = accept\n    .split(',')\n    .map((x) => x.trim())\n    .filter(Boolean);\n\n  const isOk = (file: File): boolean => {\n    const mime = (file.type || '').toLowerCase();\n    const name = (file.name || '').toLowerCase();\n\n    for (const p of parts) {\n      if (p.startsWith('.')) {\n        if (name.endsWith(p)) return true;\n      } else if (p.endsWith('/*')) {\n        const prefix = p.slice(0, -1);\n        if (mime.startsWith(prefix)) return true;\n      } else {\n        if (mime === p) return true;\n      }\n    }\n\n    return false;\n  };\n\n  return (c: AbstractControl): ValidationErrors | null => {\n    const v = c.value;\n    if (!v) return null;\n    const files: File[] = Array.isArray(v) ? v : [v];\n    const bad = files.find((f) => f && !isOk(f));\n    return bad ? { accept: { accept, bad: bad.name } } : null;\n  };\n}\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport type AmigoAuthTokenProvider = () => string | null;\r\n\r\n/**\r\n * Host app will provide this.\r\n * Example: () => authService.getAuthToken()\r\n */\r\nexport const AMIGO_AUTH_TOKEN_PROVIDER = new InjectionToken<AmigoAuthTokenProvider>(\r\n  'AMIGO_AUTH_TOKEN_PROVIDER'\r\n);\r\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AMIGO_AUTH_TOKEN_PROVIDER, AmigoAuthTokenProvider } from './auth-token.provider';\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\n\n@Injectable()\nexport class AmigoTokenInterceptor implements HttpInterceptor {\n  constructor(\n    @Optional()\n    @Inject(AMIGO_AUTH_TOKEN_PROVIDER)\n    private tokenProvider: AmigoAuthTokenProvider | null,\n    @Optional() @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig | null,\n  ) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    if (req.headers.has('X-Amigo-Skip-Auth')) {\n      const cleaned = req.clone({ headers: req.headers.delete('X-Amigo-Skip-Auth') });\n      return next.handle(cleaned);\n    }\n\n    if (!this.tokenProvider) return next.handle(req);\n\n    const token = this.tokenProvider?.();\n    if (!token) return next.handle(req);\n\n    if (this.cfg?.apiBaseUrl || this.cfg?.selectOptionsBaseUrl) {\n      const bases = [this.cfg.apiBaseUrl, this.cfg.selectOptionsBaseUrl]\n        .filter((b) => !!b)\n        .map((b) => b!.replace(/\\/+$/, ''));\n\n      const isAmigoCall = req.url.startsWith('/') || bases.some((b) => req.url.startsWith(b));\n\n      if (!isAmigoCall) return next.handle(req);\n    }\n\n    return next.handle(req.clone({ setHeaders: { Authorization: `Bearer ${token}` } }));\n  }\n}\n","import { InjectionToken, Provider } from '@angular/core';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AmigoTokenInterceptor } from './amigo-token.interceptor';\r\nimport { AMIGO_AUTH_TOKEN_PROVIDER, AmigoAuthTokenProvider } from './auth-token.provider';\r\n\r\nexport interface AmigoFormConfig {\r\n  apiBaseUrl: string;\r\n  submitActionBaseUrl: string;\r\n  selectOptionsBaseUrl?: string;\r\n  endpoints?: {\r\n    getFormById?: (id: string) => string;\r\n  };\r\n}\r\n\r\nexport const AMIGO_FORM_CONFIG = new InjectionToken<AmigoFormConfig>('AMIGO_FORM_CONFIG');\r\n\r\nexport function provideAmigoForm(\r\n  config: AmigoFormConfig,\r\n  tokenProvider?: AmigoAuthTokenProvider,\r\n): Provider[] {\r\n  const providers: Provider[] = [\r\n    { provide: AMIGO_FORM_CONFIG, useValue: config },\r\n\r\n    // Register interceptor\r\n    { provide: HTTP_INTERCEPTORS, useClass: AmigoTokenInterceptor, multi: true },\r\n  ];\r\n\r\n  // Optional token provider\r\n  if (tokenProvider) {\r\n    providers.push({ provide: AMIGO_AUTH_TOKEN_PROVIDER, useValue: tokenProvider });\r\n  }\r\n\r\n  return providers;\r\n}\r\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\nimport { ApiEndpointConfig, HttpMethod, KeyValuePair } from './models';\n\nexport interface AmigoApiExecutionContext {\n  formValue: Record<string, any>;\n  pathParams?: Record<string, any>;\n  queryParams?: Record<string, any>;\n  payloadKey?: string;\n  contentType?: 'auto' | 'json' | 'multipart';\n  skipAuth?: boolean;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class AmigoApiExecutionService {\n  constructor(\n    private http: HttpClient,\n    @Optional() @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig | null,\n  ) {}\n\n  execute(endpoint: ApiEndpointConfig, ctx: AmigoApiExecutionContext): Observable<any> {\n    const method = ((endpoint?.method || 'POST') as string).toUpperCase() as HttpMethod;\n    const baseUrl = this.resolveUrl(endpoint?.url || '');\n    const url = this.applyPathParams(baseUrl, ctx.pathParams);\n\n    let headers = new HttpHeaders();\n    if (ctx.skipAuth) headers = headers.set('X-Amigo-Skip-Auth', '1');\n\n    for (const h of endpoint?.headers || []) {\n      if (!h?.key) continue;\n      const v = this.resolveString(h.value, ctx.formValue);\n      if (v !== undefined && v !== null && String(v).length)\n        headers = headers.set(h.key, String(v));\n    }\n\n    let params = new HttpParams();\n    for (const q of endpoint?.queryParams || []) {\n      if (!q?.key) continue;\n      const v = this.resolveString(q.value, ctx.formValue);\n      if (v === undefined || v === null || v === '') continue;\n      params = params.set(q.key, String(v));\n    }\n\n    params = this.mergeParamsOverride(params, ctx.queryParams);\n\n    const mapped = this.buildMappedBody(endpoint?.bodyMapping, ctx.formValue);\n    const payload = ctx.payloadKey ? { [ctx.payloadKey]: mapped } : mapped;\n\n    if (method === 'GET') {\n      const merged = this.mergeParamsFromObject(params, payload);\n      return this.http.request(method, url, { headers, params: merged });\n    }\n\n    const contentType = ctx.contentType || 'auto';\n    const useMultipart =\n      contentType === 'multipart' || (contentType === 'auto' && this.hasFile(payload));\n\n    if (useMultipart) {\n      const fd = this.toFormData(payload);\n      return this.http.request(method, url, { headers, params, body: fd });\n    }\n\n    headers = headers.set('Content-Type', 'application/json');\n    return this.http.request(method, url, { headers, params, body: payload });\n  }\n\n  private resolveUrl(url: string): string {\n    const u = (url || '').trim();\n    if (!u) return u;\n    if (/^https?:\\/\\//i.test(u)) return u;\n    const base = (this.cfg?.submitActionBaseUrl || '').replace(/\\/+$/, '');\n    if (!base) return u.startsWith('/') ? u : '/' + u;\n    if (u.startsWith('/')) return base + u;\n    return base + '/' + u;\n  }\n\n  private buildMappedBody(mapping: any, formValue: Record<string, any>): any {\n    if (!mapping) return formValue;\n\n    if (Array.isArray(mapping)) {\n      const out: Record<string, any> = {};\n      for (const kv of mapping as KeyValuePair[]) {\n        if (!kv?.key) continue;\n        out[kv.key] = this.resolveMappingExpr(kv.value, formValue);\n      }\n      return out;\n    }\n\n    if (typeof mapping === 'object') {\n      const out: Record<string, any> = {};\n      for (const k of Object.keys(mapping)) {\n        out[k] = this.resolveMappingExpr((mapping as Record<string, any>)[k], formValue);\n      }\n      return out;\n    }\n\n    return formValue;\n  }\n\n  private resolveMappingExpr(expr: any, formValue: Record<string, any>): any {\n    if (expr === null || expr === undefined) return expr;\n    if (typeof expr !== 'string') return expr;\n\n    const s = expr.trim();\n    const m = s.match(/^\\{\\{\\s*([^}]+)\\s*\\}\\}$/);\n    if (m) return this.getByPath(formValue, m[1].trim());\n\n    if (Object.prototype.hasOwnProperty.call(formValue, s)) return formValue[s];\n\n    return this.resolveString(s, formValue);\n  }\n\n  private resolveString(template: string, formValue: Record<string, any>): string {\n    const t = String(template ?? '');\n    return t.replace(/\\{\\{\\s*([^}]+)\\s*\\}\\}/g, (_m, path) => {\n      const v = this.getByPath(formValue, String(path).trim());\n      return v === undefined || v === null ? '' : String(v);\n    });\n  }\n\n  private getByPath(obj: any, path: string): any {\n    const parts = (path || '')\n      .split('.')\n      .map((p) => p.trim())\n      .filter(Boolean);\n    let cur = obj;\n    for (const p of parts) {\n      if (cur == null) return undefined;\n      cur = cur[p];\n    }\n    return cur;\n  }\n\n  private mergeParamsFromObject(params: HttpParams, obj: any): HttpParams {\n    if (!obj || typeof obj !== 'object') return params;\n    let p = params;\n    for (const [k, v] of Object.entries(obj)) {\n      if (v === undefined || v === null) continue;\n      if (Array.isArray(v)) {\n        for (const item of v) {\n          if (item === undefined || item === null) continue;\n          p = p.append(k, this.scalarToString(item));\n        }\n        continue;\n      }\n      p = p.set(k, this.scalarToString(v));\n    }\n    return p;\n  }\n\n  private scalarToString(v: any): string {\n    if (v instanceof Date) return v.toISOString();\n    if (typeof v === 'object') return JSON.stringify(v);\n    return String(v);\n  }\n\n  private hasFile(v: any): boolean {\n    if (!v) return false;\n    if (typeof File !== 'undefined' && v instanceof File) return true;\n    if (Array.isArray(v)) return v.some((x) => this.hasFile(x));\n    if (typeof v === 'object') return Object.values(v).some((x) => this.hasFile(x));\n    return false;\n  }\n\n  private toFormData(obj: any): FormData {\n    const fd = new FormData();\n    this.appendFormData(fd, obj, '');\n    return fd;\n  }\n\n  private appendFormData(fd: FormData, value: any, keyPrefix: string): void {\n    if (value === undefined || value === null) return;\n\n    const isFile = typeof File !== 'undefined' && value instanceof File;\n    if (isFile) {\n      fd.append(keyPrefix, value);\n      return;\n    }\n\n    if (Array.isArray(value)) {\n      value.forEach((v, i) => {\n        const k = keyPrefix ? `${keyPrefix}[${i}]` : String(i);\n        this.appendFormData(fd, v, k);\n      });\n      return;\n    }\n\n    if (typeof value === 'object') {\n      Object.entries(value).forEach(([k, v]) => {\n        const next = keyPrefix ? `${keyPrefix}.${k}` : k;\n        this.appendFormData(fd, v, next);\n      });\n      return;\n    }\n\n    fd.append(keyPrefix, String(value));\n  }\n\n  private applyPathParams(url: string, params?: Record<string, any>): string {\n    if (!params || !url) return url;\n\n    const has = (k: string) => Object.prototype.hasOwnProperty.call(params, k);\n    const enc = (v: any) => encodeURIComponent(v === undefined || v === null ? '' : String(v));\n\n    let out = url;\n\n    // {id} style\n    out = out.replace(/\\{([^}]+)\\}/g, (m, k) => {\n      const key = k.trim();\n      return has(key) ? enc(params[key]) : m;\n    });\n\n    // :id style\n    out = out.replace(/:([A-Za-z0-9_]+)/g, (m, k) => (has(k) ? enc(params[k]) : m));\n\n    return out;\n  }\n\n  private mergeParamsOverride(params: HttpParams, obj?: Record<string, any>): HttpParams {\n    if (!obj || typeof obj !== 'object') return params;\n\n    let p = params;\n    for (const [k, v] of Object.entries(obj)) {\n      if (v === undefined || v === null) continue;\n\n      p = p.delete(k);\n\n      if (Array.isArray(v)) {\n        for (const item of v) {\n          if (item === undefined || item === null) continue;\n          p = p.append(k, this.scalarToString(item));\n        }\n        continue;\n      }\n\n      p = p.set(k, this.scalarToString(v));\n    }\n\n    return p;\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\nimport { ApiEndpointConfig, FormActionSchema, FormSchema, HttpMethod } from './models';\nimport { AmigoApiExecutionService } from './amigo-api-execution.service';\n\n@Injectable({ providedIn: 'root' })\nexport class AmigoFormService {\n  constructor(\n    private http: HttpClient,\n    private apiExec: AmigoApiExecutionService,\n    @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig\n  ) {}\n\n  getFormSchemaById(id: string): Observable<FormSchema> {\n    const pathBuilder = this.cfg.endpoints?.getFormById;\n    const url = pathBuilder ? `${this.cfg.apiBaseUrl}${pathBuilder(id)}` : `${this.cfg.apiBaseUrl}/${id}`;\n    return this.http.get<FormSchema>(url);\n  }\n\n  submitByAction(action: FormActionSchema, payload: Record<string, any>): Observable<any> {\n    const api = (action as any)?.submitApi?.api as ApiEndpointConfig | undefined;\n\n    const endpoint: ApiEndpointConfig | null =\n      api?.url\n        ? api\n        : action?.submitApiUrl\n        ? {\n            method: ((action.method || 'POST') as string).toUpperCase() as HttpMethod,\n            url: action.submitApiUrl,\n            headers: [],\n            queryParams: [],\n          }\n        : null;\n\n    if (!endpoint?.url) {\n      return throwError(() => new Error('No submit API configuration found'));\n    }\n\n    return this.apiExec.execute(endpoint, {\n      formValue: payload,\n      payloadKey: action.payloadKey || undefined,\n      contentType: (action.contentType as any) || 'auto',\n    });\n  }\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, of, throwError } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { AMIGO_AUTH_TOKEN_PROVIDER, AmigoAuthTokenProvider } from './auth-token.provider';\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\nimport { FormFieldOption, FormFieldSchema, SelectOptionsApiConfig } from './models';\n\n@Injectable({ providedIn: 'root' })\nexport class AmigoSelectOptionsService {\n  private cache = new Map<string, FormFieldOption[]>();\n\n  constructor(\n    private http: HttpClient,\n    @Optional() @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig | null,\n    @Optional()\n    @Inject(AMIGO_AUTH_TOKEN_PROVIDER)\n    private tokenProvider: AmigoAuthTokenProvider | null,\n  ) {}\n\n  load(field: FormFieldSchema, _formValue?: Record<string, any>): Observable<FormFieldOption[]> {\n    const api = field.optionsSource?.api;\n    if (!api?.url) return of([]);\n\n    const cacheKey = `${field.id}::${api.method || 'GET'}::${api.url}`;\n    const cached = this.cache.get(cacheKey);\n    if (cached) return of(cached);\n\n    const url = this.resolveUrl(api.url);\n    const method = ((api.method || 'GET') as string).toUpperCase();\n\n    const shouldBearer = api.secured === true && api.authType === 'BEARER';\n\n    let headers = new HttpHeaders();\n    if (!shouldBearer) {\n      headers = headers.set('X-Amigo-Skip-Auth', '1');\n    } else {\n      const token = this.resolveToken(api);\n      if (token) headers = headers.set('Authorization', `Bearer ${token}`);\n    }\n\n    return this.http.request(method, url, { headers }).pipe(\n      map((res: any) => this.mapOptions(res, api)),\n      tap((opts) => this.cache.set(cacheKey, opts)),\n      catchError((err) => {\n        const msg = err?.error?.message || err?.message || 'Failed to load options.';\n        return throwError(() => new Error(msg));\n      }),\n    );\n  }\n\n  clear(fieldId?: string): void {\n    if (!fieldId) {\n      this.cache.clear();\n      return;\n    }\n    for (const k of [...this.cache.keys()]) {\n      if (k.startsWith(fieldId + '::')) this.cache.delete(k);\n    }\n  }\n\n  private resolveUrl(url: string): string {\n    const u = (url || '').trim();\n    if (!u) return u;\n    if (/^https?:\\/\\//i.test(u)) return u;\n\n    // Use selectOptionsBaseUrl if available, otherwise fall back into apiBaseUrl\n    const base = (this.cfg?.selectOptionsBaseUrl || this.cfg?.apiBaseUrl || '').replace(/\\/+$/, '');\n\n    if (!base) return u.startsWith('/') ? u : '/' + u;\n    if (u.startsWith('/')) return base + u;\n    return base + '/' + u;\n  }\n\n  private resolveToken(api: SelectOptionsApiConfig): string | null {\n    const key = api.tokenKey || 'access_token';\n    if (api.tokenFrom === 'SESSION_STORAGE') {\n      return sessionStorage.getItem(key);\n    }\n    if (api.tokenFrom === 'LOCAL_STORAGE' || !api.tokenFrom) {\n      return localStorage.getItem(key);\n    }\n    if (api.tokenFrom === 'CUSTOM_CALLBACK') {\n      return this.tokenProvider?.() || null;\n    }\n    return null;\n  }\n\n  private mapOptions(res: any, api: SelectOptionsApiConfig): FormFieldOption[] {\n    const rm = api.responseMapping;\n    const labelKey = rm?.labelKey || 'label';\n    const valueKey = rm?.valueKey || 'value';\n    const data = rm?.dataPath ? this.getByPath(res, rm.dataPath) : res;\n\n    const arr = Array.isArray(data) ? data : Array.isArray(data?.items) ? data.items : [];\n\n    return arr\n      .map((item: any) => ({\n        label: item?.[labelKey] ?? '',\n        value: item?.[valueKey],\n      }))\n      .filter((o: any) => o.label !== '' && o.value !== undefined);\n  }\n\n  private getByPath(obj: any, path: string): any {\n    if (!obj || !path) return obj;\n    return path.split('.').reduce((acc, k) => (acc == null ? undefined : acc[k]), obj);\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup, AbstractControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\n\nimport { FormSchema, FormFieldSchema, FormType, FormActionSchema, ActionApiConfig } from './models';\nimport { AmigoFormService } from './amigo-form.service';\nimport { buildFormGroup, normalizeAccept } from './form-group.builder';\nimport { AmigoApiExecutionService } from './amigo-api-execution.service';\nimport { AmigoSelectOptionsService } from './amigo-select-options.service';\n@Component({\n  selector: 'amigo-form',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './amigo-form.component.html',\n  styleUrl: './amigo-form.component.css',\n})\nexport class AmigoFormComponent implements OnChanges {\n  @Input() formId?: string;\n  @Input() schema?: FormSchema;\n  @Input() initialValue?: Record<string, any>;\n  @Input() submitPathParams?: Record<string, any>;\n  @Input() submitQueryParams?: Record<string, any>;\n\n  @Output() submitted = new EventEmitter<any>();\n\n  @Output() submitFailed = new EventEmitter<any>();\n\n  @Output() cancelled = new EventEmitter<void>();\n\n  isLoading = false;\n  loadError: string | null = null;\n\n  isSubmitting = false;\n  submitError: string | null = null;\n\n  resolvedSchema: any | null = null;\n  form: FormGroup | null = null;\n\n  activeStepIndex = 0;\n  submitLoading = false;\n  submitFeedback?: { type: 'success' | 'error'; message: string };\n  isSubmitHovered = false;\n  isCancelHovered = false;\n  selectState: Record<string, { loading: boolean; error?: string; options: any[] }> = {};\n  buttonLoading: Record<string, boolean> = {};\n  buttonFeedback: Record<string, { type: 'success' | 'error'; message: string }> = {};\n\n  private visibilitySub?: Subscription;\n  private visibilityState: Record<string, boolean> = {};\n  private visibilityUpdating = false;\n\n  constructor(\n    private formService: AmigoFormService,\n    private cdr: ChangeDetectorRef,\n    private zone: NgZone,\n    private apiExec: AmigoApiExecutionService,\n    private selectOptions: AmigoSelectOptionsService,\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['schema'] || changes['formId']) {\n      this.init();\n    }\n    if (changes['initialValue'] && this.resolvedSchema) {\n      this.form = buildFormGroup(this.resolvedSchema!.fields, this.initialValue);\n    }\n  }\n\n  private init(): void {\n    this.loadError = null;\n\n    if (this.schema) {\n      this.applySchema(this.schema as any);\n      return;\n    }\n\n    if (!this.formId) {\n      this.resolvedSchema = null;\n      this.form = null;\n      this.loadError = 'No schema or formId provided.';\n      this.cdr.detectChanges();\n      return;\n    }\n\n    this.isLoading = true;\n    this.cdr.detectChanges(); //  ensure UI shows loading immediately\n\n    this.formService.getFormSchemaById(this.formId).subscribe({\n      next: (res: any) => {\n        this.zone.run(() => {\n          this.applySchema(res?.form_data ?? res);\n          this.isLoading = false;\n          this.cdr.detectChanges(); //  render immediately\n        });\n      },\n      error: (e) => {\n        this.zone.run(() => {\n          this.isLoading = false;\n          this.loadError = e?.message ?? 'Failed to load form schema';\n          this.cdr.detectChanges();\n        });\n      },\n    });\n  }\n\n  private preloadApiSelectOptions(): void {\n    const fields = this.resolvedSchema?.fields ?? [];\n    const formValue = this.normalizeFormValue();\n\n    for (const f of fields) {\n      if (f.type !== 'select') continue;\n      if (f.optionsSource?.mode !== 'API') continue;\n\n      this.selectState[f.id] = { loading: true, options: [] };\n\n      this.selectOptions.load(f, formValue).subscribe({\n        next: (opts) => {\n          this.selectState[f.id] = { loading: false, options: opts };\n          this.cdr.detectChanges();\n        },\n        error: () => {\n          this.selectState[f.id] = {\n            loading: false,\n            error: 'Failed to load options.',\n            options: [],\n          };\n          this.cdr.detectChanges();\n        },\n      });\n    }\n  }\n\n  private applySchema(raw: any): void {\n    const s: any = typeof raw === 'string' ? JSON.parse(raw) : raw;\n    const formType: FormType = (s?.formType ?? 'single') as FormType;\n\n    const fields = (s?.fields ?? []).map((f: any) => {\n      if (f?.type === 'file') return { ...f, accept: normalizeAccept(f.accept) };\n      return f;\n    });\n\n    this.resolvedSchema = {\n      ...s,\n      formType,\n      layout: s?.layout ?? { rows: 1, columns: 1 },\n      fields,\n      steps: s?.steps ?? [],\n      sections: s?.sections ?? [],\n      spacing: s?.spacing ?? {},\n      style: s?.style ?? {},\n      actions: s?.actions ?? {},\n    };\n\n    this.activeStepIndex = 0;\n    this.form = buildFormGroup(this.resolvedSchema!.fields, this.initialValue);\n    this.patchInitialValue();\n    this.setupVisibility();\n    this.preloadApiSelectOptions();\n  }\n\n  isCard(field: FormFieldSchema | any): boolean {\n    const t = (field as any)?.type;\n    return t === 'card' || t === 'info-card';\n  }\n\n  cardIcon(field: any): string {\n    return field?.card?.icon || '';\n  }\n\n  cardTitle(field: any): string {\n    return field?.card?.title || field?.label || 'Info';\n  }\n\n  cardBody(field: any): string {\n    return field?.card?.body || '';\n  }\n\n  cardStyle(field: any): Record<string, any> {\n    const cs = field?.card?.style ?? {};\n    const borderWidth = cs.borderWidth ?? 1;\n    const borderRadius = cs.borderRadius ?? 12;\n    const borderColor = cs.borderColor ?? '#BBF7D0';\n    const backgroundColor = cs.backgroundColor ?? '#F0FDF4';\n    const textColor = cs.textColor ?? '#166534';\n\n    return {\n      borderStyle: 'solid',\n      borderWidth: `${borderWidth}px`,\n      borderColor,\n      borderRadius: `${borderRadius}px`,\n      backgroundColor,\n      color: textColor,\n      padding: '12px',\n      display: 'flex',\n      gap: '12px',\n      alignItems: 'flex-start',\n    };\n  }\n\n  cardIconStyle(field: any): Record<string, any> {\n    const cs = field?.card?.style ?? {};\n    const textColor = cs.textColor ?? '#166534';\n    return {\n      color: cs.iconColor ?? textColor,\n      fontSize: '18px',\n      lineHeight: '1',\n      marginTop: '2px',\n    };\n  }\n\n  controlKey(field: any): string {\n    return field?.name ?? field?.id;\n  }\n\n  ctrl(field: any): AbstractControl | null {\n    return this.form?.get(this.controlKey(field)) ?? null;\n  }\n\n  showError(field: any): boolean {\n    const c = this.ctrl(field);\n    return !!(c && c.invalid && (c.touched || c.dirty));\n  }\n\n  onFileChange(evt: Event, field: FormFieldSchema): void {\n    const input = evt.target as HTMLInputElement;\n    const files = input?.files ? Array.from(input.files) : [];\n\n    const key = this.controlKey(field);\n    const c = this.form?.get(key);\n    if (!c) return;\n\n    let normalized = field.multiple ? files : files.slice(0, 1);\n\n    if (typeof field.maxFiles === 'number' && field.maxFiles > 0) {\n      normalized = normalized.slice(0, field.maxFiles);\n    }\n\n    c.setValue(field.multiple ? normalized : (normalized[0] ?? null));\n    c.markAsTouched();\n    c.updateValueAndValidity();\n  }\n\n  fileNames(field: FormFieldSchema): string[] {\n    const v = this.ctrl(field)?.value;\n    if (!v) return [];\n    if (Array.isArray(v)) return v.map((f: File) => f?.name).filter(Boolean);\n    if (v instanceof File) return [v.name];\n    if (typeof FileList !== 'undefined' && v instanceof FileList) {\n      return Array.from(v)\n        .map((f) => f?.name)\n        .filter(Boolean);\n    }\n    return [];\n  }\n\n  clearFiles(field: FormFieldSchema, inputEl: HTMLInputElement): void {\n    const c = this.ctrl(field);\n    if (!c) return;\n    c.setValue(null);\n    c.markAsTouched();\n    c.updateValueAndValidity();\n    if (inputEl) inputEl.value = '';\n  }\n\n  trackByFieldId = (_: number, field: any) => field?.id ?? field?.name ?? _;\n\n  get orderedSteps() {\n    const s = this.resolvedSchema;\n    return [...(s?.steps ?? [])].sort((a, b) => (a?.order ?? 0) - (b?.order ?? 0));\n  }\n\n  get totalSteps(): number {\n    return this.orderedSteps.length;\n  }\n\n  get isMultiStep(): boolean {\n    return this.resolvedSchema?.formType === 'multi' && this.totalSteps > 0;\n  }\n\n  get visibleFields(): FormFieldSchema[] {\n    const s = this.resolvedSchema;\n    if (!s) return [];\n\n    if (s.formType === 'multi' && this.totalSteps > 0) {\n      const step = this.orderedSteps[this.activeStepIndex];\n      const ids = new Set(step?.fieldIds ?? []);\n      if (!ids.size) return [];\n      return (s.fields ?? [])\n        .filter((f: any) => ids.has(f.id))\n        .filter((f: any) => this.isFieldVisible(f));\n    }\n\n    return (s.fields ?? []).filter((f: any) => this.isFieldVisible(f));\n  }\n\n  get orderedSections() {\n    const s = this.resolvedSchema;\n    if (!s || s.formType !== 'single-sectional') return [];\n    return [...(s.sections ?? [])].sort((a, b) => (a?.order ?? 0) - (b?.order ?? 0));\n  }\n\n  get isSectional(): boolean {\n    return this.resolvedSchema?.formType === 'single-sectional' && this.orderedSections.length > 0;\n  }\n\n  fieldsForSection(sectionId: string): FormFieldSchema[] {\n    const s = this.resolvedSchema;\n    if (!s) return [];\n    const section = (s.sections ?? []).find((x: any) => x.id === sectionId);\n    const ids = new Set(section?.fieldIds ?? []);\n    return (s.fields ?? [])\n      .filter((f: any) => ids.has(f.id))\n      .filter((f: any) => this.isFieldVisible(f));\n  }\n\n  setActiveStep(i: number) {\n    this.activeStepIndex = i;\n  }\n\n  onCancel(): void {\n    this.cancelled.emit();\n  }\n\n  prevStep(): void {\n    this.activeStepIndex = Math.max(0, this.activeStepIndex - 1);\n  }\n\n  nextStep(): void {\n    const s = this.resolvedSchema;\n    if (!s || s.formType !== 'multi') return;\n\n    const current = this.visibleFields;\n    this.touchFields(current);\n    if (this.hasErrors(current)) return;\n\n    this.activeStepIndex = Math.min(this.totalSteps - 1, this.activeStepIndex + 1);\n  }\n\n  submit(): void {\n    if (!this.resolvedSchema || !this.form) return;\n\n    this.submitError = null;\n    this.submitFeedback = undefined;\n\n    const action: any = this.resolvedSchema?.actions ?? {};\n    const submitCfg = this.resolveSubmitApi();\n\n    const triggerValidation = submitCfg ? submitCfg.triggerValidation !== false : true;\n\n    if (triggerValidation) {\n      this.form.markAllAsTouched();\n      if (this.form.invalid) return;\n    }\n\n    const rawPayload = this.form.value;\n    const payload = this.normalizePayload(rawPayload);\n\n    if (!submitCfg?.api?.url) {\n      this.submitted.emit(payload);\n      return;\n    }\n\n    this.isSubmitting = true;\n\n    this.apiExec\n      .execute(submitCfg.api, {\n        formValue: payload,\n        pathParams: this.submitPathParams,\n        queryParams: this.submitQueryParams,\n        payloadKey: action.payloadKey,\n        contentType: action.contentType,\n      })\n      .pipe(finalize(() => (this.isSubmitting = false)))\n      .subscribe({\n        next: (res) => {\n          this.submitFeedback = {\n            type: 'success',\n            message: submitCfg.successMessage || 'Submitted successfully.',\n          };\n\n          this.submitted.emit({\n            payload,\n            response: res,\n            action: this.resolvedSchema?.actions,\n          });\n        },\n        error: (err) => {\n          this.submitFeedback = {\n            type: 'error',\n            message:\n              submitCfg.errorMessage ||\n              err?.error?.message ||\n              err?.message ||\n              'Failed to submit. Please try again.',\n          };\n\n          this.submitError = this.submitFeedback.message;\n          this.submitFailed.emit(err);\n        },\n      });\n  }\n\n  private touchFields(fields: FormFieldSchema[]): void {\n    if (!this.form) return;\n    for (const f of fields as any[]) {\n      if (this.isNonInput(f)) continue;\n      if (!this.isFieldVisible(f)) continue;\n      const c = this.form.get(this.controlKey(f));\n      if (!c || c.disabled) continue;\n      c.markAsTouched();\n      c.updateValueAndValidity({ emitEvent: false });\n    }\n  }\n\n  private hasErrors(fields: FormFieldSchema[]): boolean {\n    if (!this.form) return true;\n    return (fields as any[])\n      .filter((f) => !this.isNonInput(f))\n      .filter((f) => this.isFieldVisible(f))\n      .some((f) => {\n        const c = this.form!.get(this.controlKey(f));\n        return !!(c && c.enabled && c.invalid);\n      });\n  }\n\n  getFormStyle(): Record<string, any> {\n    const sp: any = this.resolvedSchema?.spacing ?? {};\n    const st: any = this.resolvedSchema?.style ?? {};\n\n    return {\n      marginTop: px(sp.marginTop),\n      marginRight: px(sp.marginRight),\n      marginBottom: px(sp.marginBottom),\n      marginLeft: px(sp.marginLeft),\n      paddingTop: px(sp.paddingTop),\n      paddingRight: px(sp.paddingRight),\n      paddingBottom: px(sp.paddingBottom),\n      paddingLeft: px(sp.paddingLeft),\n      backgroundColor: st.backgroundColor ?? null,\n      color: st.textColor ?? null,\n      borderStyle: st.borderWidth ? 'solid' : null,\n      borderWidth: st.borderWidth ? px(st.borderWidth) : null,\n      borderColor: st.borderColor ?? null,\n      borderRadius: st.borderRadius ? px(st.borderRadius) : null,\n    };\n  }\n\n  get submitButtonStyle(): { [key: string]: string } {\n    const st: any = this.resolvedSchema?.style ?? {};\n    const baseBg = st.buttonBackgroundColor ?? '#111827';\n    const baseText = st.buttonTextColor ?? '#ffffff';\n    const hoverBg = st.buttonHoverBackgroundColor ?? baseBg;\n    const hoverText = st.buttonHoverTextColor ?? baseText;\n\n    return {\n      backgroundColor: this.isSubmitHovered ? hoverBg : baseBg,\n      color: this.isSubmitHovered ? hoverText : baseText,\n      borderRadius: st.borderRadius ? `${st.borderRadius}px` : '10px',\n    };\n  }\n\n  get cancelButtonStyle(): { [key: string]: string } {\n    const st: any = this.resolvedSchema?.style ?? {};\n    const baseBg = '#FFFFFF';\n    const baseText = st.buttonBackgroundColor ?? '#111827';\n    const baseBorder = st.buttonBackgroundColor ?? '#111827';\n\n    const hoverBg = st.buttonHoverBackgroundColor ?? baseBg;\n    const hoverText = st.buttonHoverTextColor ?? baseText;\n    const hoverBorder = st.buttonHoverBackgroundColor ?? baseBorder;\n\n    const isHover = this.isCancelHovered;\n\n    return {\n      backgroundColor: isHover ? hoverBg : baseBg,\n      color: isHover ? hoverText : baseText,\n      border: `1px solid ${isHover ? hoverBorder : baseBorder}`,\n      borderRadius: st.borderRadius ? `${st.borderRadius}px` : '10px',\n    };\n  }\n\n  isBootstrapIcon(icon: string | null | undefined): boolean {\n    const v = (icon || '').trim();\n    return v.startsWith('bi ') || v.startsWith('bi-') || v.includes(' bi-');\n  }\n\n  get showCancelButton(): boolean {\n    const a: any = this.resolvedSchema?.actions ?? {};\n    return a.showCancel !== false;\n  }\n\n  private normalizePayload(payload: Record<string, any>): Record<string, any> {\n    const normalized: Record<string, any> = {};\n\n    for (const field of this.resolvedSchema?.fields ?? []) {\n      const key = this.controlKey(field);\n      const value = payload[key];\n\n      if (field.type === 'number') {\n        normalized[key] = value === '' || value === undefined ? null : Number(value);\n      } else {\n        normalized[key] = value;\n      }\n    }\n\n    return normalized;\n  }\n\n  private patchInitialValue(): void {\n    if (!this.form || !this.resolvedSchema || !this.initialValue) return;\n\n    const patch: Record<string, any> = {};\n    const inputFields = (this.resolvedSchema.fields ?? []).filter((f: any) => !this.isCard(f));\n\n    for (const field of inputFields) {\n      const key = this.controlKey(field);\n\n      const incoming =\n        this.initialValue[key] ??\n        (field?.name ? this.initialValue[field.name] : undefined) ??\n        (field?.id ? this.initialValue[field.id] : undefined);\n\n      if (incoming === undefined) continue;\n\n      if (field.type === 'file') {\n        continue;\n      }\n\n      if (field.type === 'number') {\n        patch[key] = incoming === '' || incoming === null ? null : Number(incoming);\n        continue;\n      }\n\n      if (field.type === 'checkbox') {\n        patch[key] = incoming === true || incoming === 'true' || incoming === 1 || incoming === '1';\n        continue;\n      }\n\n      if (field.type === 'date' && incoming) {\n        patch[key] = String(incoming).slice(0, 10);\n        continue;\n      }\n\n      patch[key] = incoming;\n    }\n\n    this.form.patchValue(patch, { emitEvent: false });\n\n    this.form.markAsPristine();\n    this.form.markAsUntouched();\n  }\n\n  isButton(field: any): boolean {\n    return (field?.type ?? '') === 'button';\n  }\n\n  private isNonInput(field: any): boolean {\n    const t = field?.type;\n    return t === 'card' || t === 'info-card' || t === 'button';\n  }\n\n  private normalizeFormValue(): Record<string, any> {\n    if (!this.form) return {};\n    const raw = this.form.value;\n    const normalized: Record<string, any> = {};\n\n    for (const field of this.resolvedSchema?.fields ?? []) {\n      if (this.isNonInput(field)) continue;\n      const key = this.controlKey(field);\n      const value = raw[key];\n      normalized[key] =\n        field.type === 'number'\n          ? value === '' || value === undefined\n            ? null\n            : Number(value)\n          : value;\n    }\n    return normalized;\n  }\n\n  private setupVisibility(): void {\n    this.visibilitySub?.unsubscribe();\n    if (!this.form || !this.resolvedSchema) return;\n    this.recomputeVisibility();\n    this.visibilitySub = this.form.valueChanges.subscribe(() => {\n      if (this.visibilityUpdating) return;\n      this.recomputeVisibility();\n    });\n  }\n\n  isFieldVisible(field: any): boolean {\n    const rules = field?.visibility?.rules;\n    if (!rules || !rules.length) return true;\n    const key = field?.id || field?.name;\n    return this.visibilityState[key] !== false;\n  }\n\n  private recomputeVisibility(): void {\n    if (!this.form || !this.resolvedSchema) return;\n    const raw = (this.form as any).getRawValue ? (this.form as any).getRawValue() : this.form.value;\n\n    this.visibilityUpdating = true;\n    try {\n      for (const f of this.resolvedSchema.fields as any[]) {\n        const visible = this.evaluateVisibility(f, raw);\n        const stateKey = f.id || f.name;\n        this.visibilityState[stateKey] = visible;\n\n        if (this.isNonInput(f)) continue;\n        const c = this.form.get(this.controlKey(f));\n        if (!c) continue;\n        if (!visible && c.enabled) c.disable({ emitEvent: false });\n        if (visible && c.disabled) c.enable({ emitEvent: false });\n      }\n    } finally {\n      this.visibilityUpdating = false;\n    }\n  }\n\n  private evaluateVisibility(field: any, raw: Record<string, any>): boolean {\n    const vis = field?.visibility;\n    const rules = vis?.rules ?? [];\n    if (!rules.length) return true;\n    const mode = String(vis?.mode || 'ALL').toUpperCase();\n    const results = rules.map((r: any) => this.evaluateVisibilityRule(r, raw));\n    return mode === 'ANY' ? results.some(Boolean) : results.every(Boolean);\n  }\n\n  private evaluateVisibilityRule(rule: any, raw: Record<string, any>): boolean {\n    const depKey = this.resolveDependsOnKey(rule?.dependsOn);\n    const v = raw?.[depKey];\n    const op = String(rule?.operator || 'EQUALS').toUpperCase();\n    const cmp = rule?.value;\n\n    switch (op) {\n      case 'CHECKED':\n        return v === true;\n      case 'UNCHECKED':\n        return v !== true;\n      case 'HAS_VALUE':\n        return !this.isEmptyValue(v);\n      case 'NOT_HAS_VALUE':\n        return this.isEmptyValue(v);\n      case 'IN':\n        return Array.isArray(cmp) ? cmp.includes(v) : false;\n      case 'NOT_IN':\n        return Array.isArray(cmp) ? !cmp.includes(v) : true;\n      case 'NOT_EQUALS':\n        return Array.isArray(v) ? !v.includes(cmp) : v !== cmp;\n      case 'EQUALS':\n      default:\n        return Array.isArray(v) ? v.includes(cmp) : v === cmp;\n    }\n  }\n\n  private resolveDependsOnKey(dep: any): string {\n    const d = String(dep || '');\n    if (!d) return d;\n    if (this.form?.get(d)) return d;\n    const fields = (this.resolvedSchema?.fields ?? []) as any[];\n    const byId = fields.find((f) => f.id === d);\n    if (byId) return this.controlKey(byId);\n    const byName = fields.find((f) => f.name === d);\n    if (byName) return this.controlKey(byName);\n    return d;\n  }\n\n  private isEmptyValue(v: any): boolean {\n    if (v === null || v === undefined) return true;\n    if (typeof v === 'string' && v.trim() === '') return true;\n    if (Array.isArray(v) && v.length === 0) return true;\n    return false;\n  }\n\n  onSchemaButtonClick(field: any): void {\n    const btn = field?.button;\n    const endpoint = btn?.api;\n    if (!btn || (btn.actionType === 'API_CALL' && !endpoint)) return;\n\n    const triggerValidation = btn.triggerValidation !== false;\n\n    if (triggerValidation) {\n      const scope = this.isMultiStep ? this.visibleFields : (this.resolvedSchema?.fields ?? []);\n      this.touchFields(scope.filter((f: any) => !this.isNonInput(f)));\n      if (this.hasErrors(scope.filter((f: any) => !this.isNonInput(f)))) return;\n    }\n\n    const formValue = this.normalizeFormValue();\n    this.buttonLoading[field.id] = true;\n    delete this.buttonFeedback[field.id];\n\n    this.apiExec\n      .execute(endpoint!, { formValue })\n      .pipe(finalize(() => (this.buttonLoading[field.id] = false)))\n      .subscribe({\n        next: () => {\n          this.buttonFeedback[field.id] = {\n            type: 'success',\n            message: btn.successMessage || 'Action completed successfully.',\n          };\n        },\n        error: (err) => {\n          this.buttonFeedback[field.id] = {\n            type: 'error',\n            message: btn.errorMessage || err?.error?.message || err?.message || 'Action failed.',\n          };\n        },\n      });\n  }\n\n  private resolveSubmitApi(): ActionApiConfig | null {\n    const a: any = this.resolvedSchema?.actions;\n    if (a?.submitApi?.api?.url) {\n      return {\n        triggerValidation: a.submitApi.triggerValidation !== false,\n        successMessage: a.submitApi.successMessage,\n        errorMessage: a.submitApi.errorMessage,\n        api: a.submitApi.api,\n      };\n    }\n\n    if (a?.submitApiUrl) {\n      return {\n        triggerValidation: true,\n        api: {\n          method: (a.method || 'POST') as any,\n          url: a.submitApiUrl,\n          headers: [],\n          queryParams: [],\n        },\n      };\n    }\n\n    return null;\n  }\n}\n\nfunction px(v: any): string | null {\n  if (v === undefined || v === null) return null;\n  const n = Number(v);\n  return Number.isFinite(n) ? `${n}px` : null;\n}\n","<div class=\"w-full h-full flex flex-col mb-6 overflow-auto\">\n\n\n    <div *ngIf=\"isLoading\" class=\"flex items-center justify-center p-6 text-sm text-gray-600\">\n        Loading formâ€¦\n    </div>\n\n\n    <div *ngIf=\"loadError\" class=\"p-3 rounded border border-red-200 bg-red-50 text-red-700 text-sm\">\n        {{ loadError }}\n    </div>\n\n\n    <div *ngIf=\"!isLoading && !loadError && (!resolvedSchema?.fields || resolvedSchema.fields.length === 0)\"\n        class=\"flex justify-center items-center h-100 border border-dotted border-gray-300 rounded-xl bg-white\">\n        <h2 class=\"text-sm text-gray-600\">No fields found for this form schema.</h2>\n    </div>\n\n    <form *ngIf=\"!isLoading && !loadError && resolvedSchema?.fields?.length && form\" [formGroup]=\"form\" class=\"text-sm\"\n        [ngStyle]=\"getFormStyle()\" [ngClass]=\"resolvedSchema?.style?.formClass || ''\" (ngSubmit)=\"submit()\">\n        <h2 class=\"text-2xl my-2\">{{ resolvedSchema.name }}</h2>\n\n        <p *ngIf=\"resolvedSchema.description\" class=\"text-[13px] text-gray-500 mb-4\">\n            {{ resolvedSchema.description }}\n        </p>\n\n\n        <div *ngIf=\"isMultiStep\" class=\"w-full mb-6 flex flex-col items-center my-3\">\n\n\n            <div class=\"w-full h-1 bg-gray-200 rounded-full relative mb-6\">\n                <div class=\"h-1 rounded-full transition-all duration-300\" [ngStyle]=\"{\n                width: ((activeStepIndex + 1) / totalSteps) * 100 + '%',\n                backgroundColor: submitButtonStyle['backgroundColor']\n              }\">\n                </div>\n            </div>\n\n\n            <div class=\"flex items-center justify-center gap-10\">\n                <div *ngFor=\"let step of orderedSteps; let i = index\" class=\"flex flex-col items-center cursor-pointer\"\n                    (click)=\"setActiveStep(i)\">\n\n                    <div class=\"w-10 h-10 flex items-center justify-center rounded-full border-2 transition-all duration-300\"\n                        [ngStyle]=\"\n                  i === activeStepIndex\n                    ? {\n                        backgroundColor: submitButtonStyle['backgroundColor'],\n                        borderColor: submitButtonStyle['backgroundColor'],\n                        color: submitButtonStyle['color']\n                      }\n                    : {\n                        backgroundColor: '#FFFFFF',\n                        borderColor: '#9CA3AF',\n                        color: '#374151'\n                      }\n                \">\n\n\n                        <ng-container *ngIf=\"!step.icon\">\n                            {{ i + 1 }}\n                        </ng-container>\n\n\n                        <ng-container *ngIf=\"step.icon\">\n                            <i [class]=\"step.icon\" class=\"text-lg\" [ngStyle]=\"\n                      i === activeStepIndex\n                        ? { color: submitButtonStyle['color'] }\n                        : { color: '#6B7280' }\n                    \">\n                            </i>\n                        </ng-container>\n\n                    </div>\n\n                    <div class=\"mt-2 text-xs text-gray-600 font-medium\">\n                        {{ step.label }}\n                    </div>\n                </div>\n            </div>\n\n            <div *ngIf=\"visibleFields.length === 0\" class=\"text-xs text-gray-500 my-5\">\n                No fields assigned to this step yet.\n            </div>\n        </div>\n\n\n\n        <div *ngIf=\"isSectional; else normalOrMulti\">\n            <div *ngFor=\"let sec of orderedSections\" class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-2 border-b border-gray-200 pb-2\">\n                    <h3 class=\"text-[11px] font-semibold uppercase text-blue-700\">{{ sec.label }}</h3>\n                    <span class=\"text-[11px] text-gray-500\">{{ fieldsForSection(sec.id).length }} fields</span>\n                </div>\n\n                <div class=\"grid\" [ngStyle]=\"{\n            'grid-template-columns': 'repeat(' + (resolvedSchema.layout?.columns || 1) + ', minmax(0, 1fr))',\n            'column-gap': (resolvedSchema.spacing?.gapX ?? 12) + 'px',\n            'row-gap': (resolvedSchema.spacing?.gapY ?? 12) + 'px'\n          }\">\n                    <div *ngFor=\"let field of fieldsForSection(sec.id); trackBy: trackByFieldId\"\n                        [ngStyle]=\"{ 'grid-column': 'span ' + (field.colSpan || 1) }\"\n                        [ngClass]=\"resolvedSchema.style?.fieldWrapperClass || 'mb-3'\">\n                        <ng-container *ngTemplateOutlet=\"fieldRenderer; context: { $implicit: field }\"></ng-container>\n                    </div>\n                </div>\n\n                <div *ngIf=\"fieldsForSection(sec.id).length === 0\" class=\"text-xs text-gray-500 mt-2\">\n                    No fields in this section yet.\n                </div>\n            </div>\n        </div>\n\n\n        <ng-template #normalOrMulti>\n            <div class=\"grid\" [ngStyle]=\"{\n          'grid-template-columns': 'repeat(' + (resolvedSchema.layout?.columns || 1) + ', minmax(0, 1fr))',\n          'column-gap': (resolvedSchema.spacing?.gapX ?? 12) + 'px',\n          'row-gap': (resolvedSchema.spacing?.gapY ?? 12) + 'px'\n        }\">\n                <div *ngFor=\"let field of visibleFields; trackBy: trackByFieldId\"\n                    [ngStyle]=\"{ 'grid-column': 'span ' + (field.colSpan || 1) }\"\n                    [ngClass]=\"resolvedSchema.style?.fieldWrapperClass || 'mb-3'\">\n                    <ng-container *ngTemplateOutlet=\"fieldRenderer; context: { $implicit: field }\"></ng-container>\n                </div>\n            </div>\n        </ng-template>\n\n\n        <div *ngIf=\"isMultiStep\" class=\"mt-4 flex items-center justify-between text-xs\">\n            <button type=\"button\" class=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50\"\n                (click)=\"prevStep()\" [disabled]=\"activeStepIndex === 0\">\n                â† Previous step\n            </button>\n\n            <button type=\"button\" class=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50\"\n                (click)=\"nextStep()\" [disabled]=\"activeStepIndex === totalSteps - 1\">\n                Next step â†’\n            </button>\n        </div>\n\n        <div *ngIf=\"submitFeedback\" class=\"mt-3 p-3 rounded border text-sm\" [ngClass]=\"submitFeedback.type === 'success'\n              ? 'border-green-200 bg-green-50 text-green-700'\n              : 'border-red-200 bg-red-50 text-red-700'\">\n            {{ submitFeedback.message }}\n        </div>\n\n\n        <div *ngIf=\"submitError\" class=\"mt-3 p-3 rounded border border-red-200 bg-red-50 text-red-700 text-sm\">\n            {{ submitError }}\n        </div>\n\n\n        <div class=\"mt-4 flex items-center gap-2\">\n            <button type=\"submit\" (mouseenter)=\"isSubmitHovered = true\" (mouseleave)=\"isSubmitHovered = false\"\n                [ngStyle]=\"submitButtonStyle\" [disabled]=\"isSubmitting\"\n                [ngClass]=\"resolvedSchema.style?.buttonClass || 'px-4 py-2 rounded text-sm font-medium disabled:opacity-60 disabled:cursor-not-allowed'\">\n                {{ isSubmitting ? 'Submitting...' : (resolvedSchema.actions?.submitLabel || 'Submit') }}\n            </button>\n\n            <button *ngIf=\"showCancelButton\" type=\"button\" (click)=\"onCancel()\" (mouseenter)=\"isCancelHovered = true\"\n                (mouseleave)=\"isCancelHovered = false\" [disabled]=\"isSubmitting\" [ngStyle]=\"cancelButtonStyle\"\n                [ngClass]=\"resolvedSchema.style?.buttonClass || 'px-4 py-2 rounded text-sm font-medium disabled:opacity-60 disabled:cursor-not-allowed'\">\n                {{ resolvedSchema.actions?.cancelLabel || 'Cancel' }}\n            </button>\n        </div>\n\n\n\n        <ng-template #fieldRenderer let-field>\n\n            <ng-container *ngIf=\"isCard(field); else notCard\">\n                <div [ngStyle]=\"cardStyle(field)\" class=\"w-full flex items-start gap-3\">\n\n                    <div class=\"shrink-0 mt-0.5 text-lg leading-none\" [ngStyle]=\"cardIconStyle(field)\">\n                        <i *ngIf=\"isBootstrapIcon(cardIcon(field))\" [class]=\"cardIcon(field)\"></i>\n                        <span *ngIf=\"!isBootstrapIcon(cardIcon(field))\">{{ cardIcon(field) }}</span>\n                    </div>\n\n\n                    <div class=\"min-w-0\">\n                        <div class=\"text-sm font-semibold leading-tight\">\n                            {{ cardTitle(field) }}\n                        </div>\n\n                        <div *ngIf=\"cardBody(field)\" class=\"mt-1 text-xs opacity-90\">\n                            {{ cardBody(field) }}\n                        </div>\n                    </div>\n                </div>\n            </ng-container>\n\n            <ng-template #notCard>\n\n\n                <ng-container *ngIf=\"isButton(field); else inputField\">\n                    <div class=\"w-full\">\n                        <button type=\"button\" (click)=\"onSchemaButtonClick(field)\"\n                            [disabled]=\"buttonLoading[field.id] ?? false\"\n                            class=\"w-full transition disabled:opacity-60 disabled:cursor-not-allowed\" [ngClass]=\"[\n                        (resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'),\n                        (field.button?.styleVariant || 'primary') === 'primary'\n                          ? 'bg-blue-600 text-white border-blue-600 hover:bg-blue-700'\n                          : (field.button?.styleVariant || 'primary') === 'danger'\n                            ? 'bg-red-600 text-white border-red-600 hover:bg-red-700'\n                            : 'bg-white text-slate-700 border-slate-300 hover:bg-slate-50'\n                      ]\">\n                            <span class=\"inline-flex items-center justify-center gap-2\">\n                                <span>{{ field.button?.label || field.label }}</span>\n                                <span *ngIf=\"buttonLoading[field.id]\" class=\"text-xs opacity-80\">â€¦</span>\n                            </span>\n                        </button>\n\n                        <div *ngIf=\"buttonFeedback[field.id]\" class=\"mt-2 text-xs rounded-lg px-3 py-2 border\"\n                            [ngClass]=\"buttonFeedback[field.id].type === 'success'\n                        ? 'bg-emerald-50 border-emerald-200 text-emerald-800'\n                        : 'bg-rose-50 border-rose-200 text-rose-800'\">\n                            {{ buttonFeedback[field.id].message }}\n                        </div>\n                    </div>\n                </ng-container>\n\n\n\n                <ng-template #inputField>\n                    <label [ngClass]=\"resolvedSchema?.style?.labelClass || 'block text-sm font-medium mb-1'\">\n                        {{ field.label }}\n                        <span\n                            *ngIf=\"field.required === true || field.required === 'true' || field.validations?.required\"\n                            class=\"text-red-500\">*</span>\n                    </label>\n\n                    <ng-container [ngSwitch]=\"field.type\">\n\n\n                        <ng-container *ngSwitchCase=\"'text'\">\n                            <input type=\"text\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                                    Minimum {{ field.validations?.minLength }} characters required.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                                    Maximum {{ field.validations?.maxLength }} characters allowed.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.\n                                </div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'password'\">\n                            <input type=\"password\" [placeholder]=\"field.placeholder\"\n                                [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                                    Minimum {{ field.validations?.minLength }} characters required.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                                    Maximum {{ field.validations?.maxLength }} characters allowed.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.\n                                </div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'number'\">\n                            <input type=\"number\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['min']\">Value should be â‰¥ {{ field.validations?.min\n                                    }}.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['max']\">Value should be â‰¤ {{ field.validations?.max\n                                    }}.</div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'email'\">\n                            <input type=\"email\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['email']\">Please enter a valid email address.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                                    Minimum {{ field.validations?.minLength }} characters required.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                                    Maximum {{ field.validations?.maxLength }} characters allowed.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.\n                                </div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'textarea'\">\n                            <textarea [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\" rows=\"4\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\"></textarea>\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                                    Minimum {{ field.validations?.minLength }} characters required.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                                    Maximum {{ field.validations?.maxLength }} characters allowed.\n                                </div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.\n                                </div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'select'\">\n                            <select [formControlName]=\"controlKey(field)\"\n                                [disabled]=\"selectState[field.id]?.loading ?? false\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\">\n                                <option value=\"\">Select an option</option>\n\n                                <ng-container *ngFor=\"let opt of (field.optionsSource?.mode === 'API'\n                              ? (selectState[field.id]?.options || [])\n                              : (field.options || []))\">\n                                    <option [value]=\"opt.value\">{{ opt.label }}</option>\n                                </ng-container>\n                            </select>\n\n                            <div *ngIf=\"field.optionsSource?.mode === 'API' && selectState[field.id]?.loading\"\n                                class=\"mt-1 text-[11px] text-slate-500\">\n                                Loading optionsâ€¦\n                            </div>\n\n                            <div *ngIf=\"field.optionsSource?.mode === 'API' && selectState[field.id]?.error\"\n                                class=\"mt-1 text-[11px] text-rose-600\">\n                                {{ selectState[field.id]?.error }}\n                            </div>\n\n                            <div *ngIf=\"field.optionsSource?.mode === 'API'\n                                      && !selectState[field.id]?.loading\n                                      && !selectState[field.id]?.error\n                                      && (selectState[field.id]?.options?.length || 0) === 0\"\n                                class=\"mt-1 text-[11px] text-slate-500\">\n                                No options available.\n                            </div>\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">Please select an option.</div>\n                            </div>\n                        </ng-container>\n\n\n\n                        <ng-container *ngSwitchCase=\"'checkbox'\">\n                            <div class=\"flex items-center gap-2\">\n                                <input type=\"checkbox\" [formControlName]=\"controlKey(field)\" />\n                                <span class=\"text-xs text-gray-700\">Check</span>\n                            </div>\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['requiredTrue']\">Please check this box.</div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'radio'\">\n                            <div\n                                [ngClass]=\"field.optionDirection === 'horizontal' ? 'flex flex-row gap-4 items-center' : 'flex flex-col gap-1'\">\n                                <label *ngFor=\"let opt of field.options || []\"\n                                    class=\"inline-flex items-center gap-2 text-xs text-gray-700\">\n                                    <input type=\"radio\" [value]=\"opt.value\" [formControlName]=\"controlKey(field)\" />\n                                    <span>{{ opt.label }}</span>\n                                </label>\n                            </div>\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">Please choose an option.</div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'date'\">\n                            <input type=\"date\" [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['min']\">Date should be on or after {{\n                                    field.validations?.min\n                                    }}.</div>\n                                <div *ngIf=\"ctrl(field)?.errors?.['max']\">Date should be on or before {{\n                                    field.validations?.max\n                                    }}.</div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchCase=\"'file'\">\n                            <div class=\"flex flex-col gap-2\">\n                                <div class=\"flex items-center gap-2\">\n                                    <input #fileInput type=\"file\" [attr.accept]=\"field.accept || null\"\n                                        [attr.multiple]=\"field.multiple ? '' : null\"\n                                        (change)=\"onFileChange($event, field)\" (blur)=\"ctrl(field)?.markAsTouched()\"\n                                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                                    <button *ngIf=\"fileNames(field).length\" type=\"button\"\n                                        class=\"px-2 py-1 text-[11px] border border-gray-300 rounded hover:bg-gray-100\"\n                                        (click)=\"clearFiles(field, fileInput)\">\n                                        Clear\n                                    </button>\n                                </div>\n\n                                <div class=\"text-[11px] text-gray-500\">\n                                    <span *ngIf=\"field.accept\">Allowed: {{ field.accept }}</span>\n                                    <span *ngIf=\"field.maxSizeMB\"> â€¢ Max {{ field.maxSizeMB }}MB per file</span>\n                                    <span *ngIf=\"field.maxFiles\"> â€¢ Max {{ field.maxFiles }} file(s)</span>\n                                </div>\n\n                                <div *ngIf=\"fileNames(field).length\" class=\"text-[11px] text-gray-600\">\n                                    Selected: {{ fileNames(field).join(', ') }}\n                                </div>\n                            </div>\n\n                            <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                                <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxFiles']\">\n                                    You can upload up to {{ ctrl(field)?.errors?.['maxFiles']?.max }} file(s).\n                                </div>\n\n                                <div *ngIf=\"ctrl(field)?.errors?.['maxSizeMB']\">\n                                    {{ ctrl(field)?.errors?.['maxSizeMB']?.file }} is too large. Max\n                                    {{ ctrl(field)?.errors?.['maxSizeMB']?.max }}MB.\n                                </div>\n\n                                <div *ngIf=\"ctrl(field)?.errors?.['accept']\">\n                                    {{ ctrl(field)?.errors?.['accept']?.file }} is not an allowed file type.\n                                </div>\n                            </div>\n                        </ng-container>\n\n\n                        <ng-container *ngSwitchDefault>\n                            <input type=\"text\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n                        </ng-container>\n\n                    </ng-container>\n                </ng-template>\n            </ng-template>\n        </ng-template>\n    </form>\n</div>","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.AmigoFormService","i2.AmigoApiExecutionService","i3.AmigoSelectOptionsService"],"mappings":";;;;;;;;;;;AAUM,SAAU,cAAc,CAAC,MAAyB,EAAE,YAAkC,EAAA;IAC1F,MAAM,KAAK,GAAgC,EAAE;AAC7C,IAAA,KAAK,MAAM,CAAC,IAAI,MAAe,EAAE;QAC/B,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,MAAM,IAAI,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,QAAQ;YAAE;AAEzD,QAAA,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,IAAI,EAAE;AAC7B,QAAA,MAAM,QAAQ,GAAG,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI;QAEpF,MAAM,UAAU,GAAkB,EAAE;QACpC,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,KAAK,UAAU;AAAE,gBAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC;iBACzD,IAAI,CAAC,KAAK,MAAM;AAAE,gBAAA,UAAU,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;;AAC1D,gBAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;QAC3C;AAEA,QAAA,IAAI,OAAO,CAAC,CAAC,SAAS,KAAK,QAAQ;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;AACvF,QAAA,IAAI,OAAO,CAAC,CAAC,SAAS,KAAK,QAAQ;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;AACvF,QAAA,IAAI,OAAO,CAAC,CAAC,GAAG,KAAK,QAAQ;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACrE,QAAA,IAAI,OAAO,CAAC,CAAC,GAAG,KAAK,QAAQ;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACrE,IAAI,CAAC,CAAC,OAAO;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAC7D,IAAI,CAAC,KAAK,OAAO;AAAE,YAAA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;AAEpD,QAAA,IAAI,CAAC,KAAK,MAAM,EAAE;AAChB,YAAA,MAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,QAAQ,KAAK,QAAQ,GAAG,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,GAAG,SAAS,GAAG,CAAC;AACzF,YAAA,MAAM,SAAS,GAAG,OAAO,CAAC,CAAC,SAAS,KAAK,QAAQ,GAAG,CAAC,CAAC,SAAS,GAAG,SAAS;YAC3E,MAAM,MAAM,GAAG,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC;YAExC,IAAI,QAAQ,KAAK,SAAS;gBAAE,UAAU,CAAC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;YAC5E,IAAI,SAAS,KAAK,SAAS;gBAAE,UAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;AAC7E,YAAA,IAAI,MAAM;gBAAE,UAAU,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QAC1D;QAEA,MAAM,GAAG,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE;AAC1B,QAAA,MAAM,IAAI,GACR,YAAY,GAAG,GAAG,CAAC;aAClB,CAAC,KAAK;AACL,kBAAE;AACF,kBAAE,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK;AAC1B,sBAAE;sBACA,CAAC,KAAK;AACR,0BAAE;0BACA,EAAE,CAAC;QAET,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,WAAW,CAAC,IAAI,EAAE,UAAU,CAAC;IAChD;AAEA,IAAA,OAAO,IAAI,SAAS,CAAC,KAAK,CAAC;AAC7B;AAEM,SAAU,eAAe,CAAC,CAAU,EAAA;AACxC,IAAA,IAAI,CAAC,CAAC;AAAE,QAAA,OAAO,SAAS;AACxB,IAAA,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;IACxC,OAAO,CAAC,IAAI,SAAS;AACvB;AAEA,SAAS,qBAAqB,GAAA;IAC5B,OAAO,CAAC,CAAkB,KAA6B;AACrD,QAAA,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK;AACjB,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE;AACjC,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;AACjE,QAAA,OAAO,IAAI;AACb,IAAA,CAAC;AACH;AAEA,SAAS,qBAAqB,CAAC,QAAgB,EAAA;IAC7C,OAAO,CAAC,CAAkB,KAA6B;AACrD,QAAA,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK;AACjB,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,IAAI;AACnB,QAAA,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;QAC7C,OAAO,KAAK,GAAG,QAAQ,GAAG,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,GAAG,IAAI;AAC5E,IAAA,CAAC;AACH;AAEA,SAAS,oBAAoB,CAAC,SAAiB,EAAA;AAC7C,IAAA,MAAM,QAAQ,GAAG,SAAS,GAAG,IAAI,GAAG,IAAI;IACxC,OAAO,CAAC,CAAkB,KAA6B;AACrD,QAAA,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK;AACjB,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,IAAI;AACnB,QAAA,MAAM,KAAK,GAAW,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAChD,QAAA,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,QAAQ,CAAC;QACtD,OAAO,QAAQ,GAAG,EAAE,SAAS,EAAE,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,CAAC,IAAI,EAAE,EAAE,GAAG,IAAI;AACnF,IAAA,CAAC;AACH;AAEA,SAAS,mBAAmB,CAAC,MAAc,EAAA;IACzC,MAAM,KAAK,GAAG;SACX,KAAK,CAAC,GAAG;SACT,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;SACnB,MAAM,CAAC,OAAO,CAAC;AAElB,IAAA,MAAM,IAAI,GAAG,CAAC,IAAU,KAAa;AACnC,QAAA,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,WAAW,EAAE;AAC5C,QAAA,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,WAAW,EAAE;AAE5C,QAAA,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;AACrB,YAAA,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AACrB,gBAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAAE,oBAAA,OAAO,IAAI;YACnC;AAAO,iBAAA,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC3B,MAAM,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7B,gBAAA,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AAAE,oBAAA,OAAO,IAAI;YAC1C;iBAAO;gBACL,IAAI,IAAI,KAAK,CAAC;AAAE,oBAAA,OAAO,IAAI;YAC7B;QACF;AAEA,QAAA,OAAO,KAAK;AACd,IAAA,CAAC;IAED,OAAO,CAAC,CAAkB,KAA6B;AACrD,QAAA,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK;AACjB,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,IAAI;AACnB,QAAA,MAAM,KAAK,GAAW,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAChD,QAAA,MAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5C,OAAO,GAAG,GAAG,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,EAAE,EAAE,GAAG,IAAI;AAC3D,IAAA,CAAC;AACH;;AC1HA;;;AAGG;MACU,yBAAyB,GAAG,IAAI,cAAc,CACzD,2BAA2B;;MCFhB,qBAAqB,CAAA;AAItB,IAAA,aAAA;AACuC,IAAA,GAAA;IAJjD,WAAA,CAGU,aAA4C,EACL,GAA2B,EAAA;QADlE,IAAA,CAAA,aAAa,GAAb,aAAa;QAC0B,IAAA,CAAA,GAAG,GAAH,GAAG;IACjD;IAEH,SAAS,CAAC,GAAqB,EAAE,IAAiB,EAAA;QAChD,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE;AACxC,YAAA,MAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,EAAE,CAAC;AAC/E,YAAA,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAC7B;QAEA,IAAI,CAAC,IAAI,CAAC,aAAa;AAAE,YAAA,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AAEhD,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,IAAI;AACpC,QAAA,IAAI,CAAC,KAAK;AAAE,YAAA,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AAEnC,QAAA,IAAI,IAAI,CAAC,GAAG,EAAE,UAAU,IAAI,IAAI,CAAC,GAAG,EAAE,oBAAoB,EAAE;AAC1D,YAAA,MAAM,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,oBAAoB;iBAC9D,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACjB,iBAAA,GAAG,CAAC,CAAC,CAAC,KAAK,CAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAErC,YAAA,MAAM,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAEvF,YAAA,IAAI,CAAC,WAAW;AAAE,gBAAA,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAC3C;QAEA,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,EAAE,aAAa,EAAE,CAAA,OAAA,EAAU,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;IACrF;wGA9BW,qBAAqB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAGtB,yBAAyB,EAAA,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAEb,iBAAiB,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;4GAL5B,qBAAqB,EAAA,CAAA;;4FAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBADjC;;0BAGI;;0BACA,MAAM;2BAAC,yBAAyB;;0BAEhC;;0BAAY,MAAM;2BAAC,iBAAiB;;;MCE5B,iBAAiB,GAAG,IAAI,cAAc,CAAkB,mBAAmB;AAElF,SAAU,gBAAgB,CAC9B,MAAuB,EACvB,aAAsC,EAAA;AAEtC,IAAA,MAAM,SAAS,GAAe;AAC5B,QAAA,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,MAAM,EAAE;;QAGhD,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,qBAAqB,EAAE,KAAK,EAAE,IAAI,EAAE;KAC7E;;IAGD,IAAI,aAAa,EAAE;AACjB,QAAA,SAAS,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC;IACjF;AAEA,IAAA,OAAO,SAAS;AAClB;;MCjBa,wBAAwB,CAAA;AAEzB,IAAA,IAAA;AACuC,IAAA,GAAA;IAFjD,WAAA,CACU,IAAgB,EACuB,GAA2B,EAAA;QADlE,IAAA,CAAA,IAAI,GAAJ,IAAI;QACmC,IAAA,CAAA,GAAG,GAAH,GAAG;IACjD;IAEH,OAAO,CAAC,QAA2B,EAAE,GAA6B,EAAA;AAChE,QAAA,MAAM,MAAM,GAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,MAAM,EAAa,WAAW,EAAgB;AACnF,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,IAAI,EAAE,CAAC;AACpD,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC;AAEzD,QAAA,IAAI,OAAO,GAAG,IAAI,WAAW,EAAE;QAC/B,IAAI,GAAG,CAAC,QAAQ;YAAE,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC;QAEjE,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE,OAAO,IAAI,EAAE,EAAE;YACvC,IAAI,CAAC,CAAC,EAAE,GAAG;gBAAE;AACb,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC;AACpD,YAAA,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM;AACnD,gBAAA,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;QAC3C;AAEA,QAAA,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE;QAC7B,KAAK,MAAM,CAAC,IAAI,QAAQ,EAAE,WAAW,IAAI,EAAE,EAAE;YAC3C,IAAI,CAAC,CAAC,EAAE,GAAG;gBAAE;AACb,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC;YACpD,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,EAAE;gBAAE;AAC/C,YAAA,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;QACvC;QAEA,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,GAAG,CAAC,WAAW,CAAC;AAE1D,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE,GAAG,CAAC,SAAS,CAAC;QACzE,MAAM,OAAO,GAAG,GAAG,CAAC,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,UAAU,GAAG,MAAM,EAAE,GAAG,MAAM;AAEtE,QAAA,IAAI,MAAM,KAAK,KAAK,EAAE;YACpB,MAAM,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,OAAO,CAAC;AAC1D,YAAA,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;QACpE;AAEA,QAAA,MAAM,WAAW,GAAG,GAAG,CAAC,WAAW,IAAI,MAAM;AAC7C,QAAA,MAAM,YAAY,GAChB,WAAW,KAAK,WAAW,KAAK,WAAW,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAElF,IAAI,YAAY,EAAE;YAChB,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YACnC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;QACtE;QAEA,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC;QACzD,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC3E;AAEQ,IAAA,UAAU,CAAC,GAAW,EAAA;QAC5B,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,EAAE;AAC5B,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;AAChB,QAAA,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;AACrC,QAAA,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,mBAAmB,IAAI,EAAE,EAAE,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AACtE,QAAA,IAAI,CAAC,IAAI;AAAE,YAAA,OAAO,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;AACjD,QAAA,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC;YAAE,OAAO,IAAI,GAAG,CAAC;AACtC,QAAA,OAAO,IAAI,GAAG,GAAG,GAAG,CAAC;IACvB;IAEQ,eAAe,CAAC,OAAY,EAAE,SAA8B,EAAA;AAClE,QAAA,IAAI,CAAC,OAAO;AAAE,YAAA,OAAO,SAAS;AAE9B,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC1B,MAAM,GAAG,GAAwB,EAAE;AACnC,YAAA,KAAK,MAAM,EAAE,IAAI,OAAyB,EAAE;gBAC1C,IAAI,CAAC,EAAE,EAAE,GAAG;oBAAE;AACd,gBAAA,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,KAAK,EAAE,SAAS,CAAC;YAC5D;AACA,YAAA,OAAO,GAAG;QACZ;AAEA,QAAA,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,MAAM,GAAG,GAAwB,EAAE;YACnC,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AACpC,gBAAA,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAE,OAA+B,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC;YAClF;AACA,YAAA,OAAO,GAAG;QACZ;AAEA,QAAA,OAAO,SAAS;IAClB;IAEQ,kBAAkB,CAAC,IAAS,EAAE,SAA8B,EAAA;AAClE,QAAA,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS;AAAE,YAAA,OAAO,IAAI;QACpD,IAAI,OAAO,IAAI,KAAK,QAAQ;AAAE,YAAA,OAAO,IAAI;AAEzC,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE;QACrB,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,yBAAyB,CAAC;AAC5C,QAAA,IAAI,CAAC;AAAE,YAAA,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QAEpD,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AAAE,YAAA,OAAO,SAAS,CAAC,CAAC,CAAC;QAE3E,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,SAAS,CAAC;IACzC;IAEQ,aAAa,CAAC,QAAgB,EAAE,SAA8B,EAAA;QACpE,MAAM,CAAC,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAC;QAChC,OAAO,CAAC,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAAC,EAAE,EAAE,IAAI,KAAI;AACtD,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;AACxD,YAAA,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC;AACvD,QAAA,CAAC,CAAC;IACJ;IAEQ,SAAS,CAAC,GAAQ,EAAE,IAAY,EAAA;AACtC,QAAA,MAAM,KAAK,GAAG,CAAC,IAAI,IAAI,EAAE;aACtB,KAAK,CAAC,GAAG;aACT,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;aACnB,MAAM,CAAC,OAAO,CAAC;QAClB,IAAI,GAAG,GAAG,GAAG;AACb,QAAA,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;YACrB,IAAI,GAAG,IAAI,IAAI;AAAE,gBAAA,OAAO,SAAS;AACjC,YAAA,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QACd;AACA,QAAA,OAAO,GAAG;IACZ;IAEQ,qBAAqB,CAAC,MAAkB,EAAE,GAAQ,EAAA;AACxD,QAAA,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ;AAAE,YAAA,OAAO,MAAM;QAClD,IAAI,CAAC,GAAG,MAAM;AACd,QAAA,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACxC,YAAA,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI;gBAAE;AACnC,YAAA,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;AACpB,gBAAA,KAAK,MAAM,IAAI,IAAI,CAAC,EAAE;AACpB,oBAAA,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI;wBAAE;AACzC,oBAAA,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC5C;gBACA;YACF;AACA,YAAA,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QACtC;AACA,QAAA,OAAO,CAAC;IACV;AAEQ,IAAA,cAAc,CAAC,CAAM,EAAA;QAC3B,IAAI,CAAC,YAAY,IAAI;AAAE,YAAA,OAAO,CAAC,CAAC,WAAW,EAAE;QAC7C,IAAI,OAAO,CAAC,KAAK,QAAQ;AAAE,YAAA,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;AACnD,QAAA,OAAO,MAAM,CAAC,CAAC,CAAC;IAClB;AAEQ,IAAA,OAAO,CAAC,CAAM,EAAA;AACpB,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,KAAK;AACpB,QAAA,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,CAAC,YAAY,IAAI;AAAE,YAAA,OAAO,IAAI;AACjE,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAI,OAAO,CAAC,KAAK,QAAQ;YAAE,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/E,QAAA,OAAO,KAAK;IACd;AAEQ,IAAA,UAAU,CAAC,GAAQ,EAAA;AACzB,QAAA,MAAM,EAAE,GAAG,IAAI,QAAQ,EAAE;QACzB,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;AAChC,QAAA,OAAO,EAAE;IACX;AAEQ,IAAA,cAAc,CAAC,EAAY,EAAE,KAAU,EAAE,SAAiB,EAAA;AAChE,QAAA,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI;YAAE;QAE3C,MAAM,MAAM,GAAG,OAAO,IAAI,KAAK,WAAW,IAAI,KAAK,YAAY,IAAI;QACnE,IAAI,MAAM,EAAE;AACV,YAAA,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC;YAC3B;QACF;AAEA,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxB,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACrB,gBAAA,MAAM,CAAC,GAAG,SAAS,GAAG,GAAG,SAAS,CAAA,CAAA,EAAI,CAAC,CAAA,CAAA,CAAG,GAAG,MAAM,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;AAC/B,YAAA,CAAC,CAAC;YACF;QACF;AAEA,QAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC7B,YAAA,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI;AACvC,gBAAA,MAAM,IAAI,GAAG,SAAS,GAAG,CAAA,EAAG,SAAS,CAAA,CAAA,EAAI,CAAC,CAAA,CAAE,GAAG,CAAC;gBAChD,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC;AAClC,YAAA,CAAC,CAAC;YACF;QACF;QAEA,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACrC;IAEQ,eAAe,CAAC,GAAW,EAAE,MAA4B,EAAA;AAC/D,QAAA,IAAI,CAAC,MAAM,IAAI,CAAC,GAAG;AAAE,YAAA,OAAO,GAAG;AAE/B,QAAA,MAAM,GAAG,GAAG,CAAC,CAAS,KAAK,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;AAC1E,QAAA,MAAM,GAAG,GAAG,CAAC,CAAM,KAAK,kBAAkB,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAE1F,IAAI,GAAG,GAAG,GAAG;;AAGb,QAAA,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AACzC,YAAA,MAAM,GAAG,GAAG,CAAC,CAAC,IAAI,EAAE;AACpB,YAAA,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;AACxC,QAAA,CAAC,CAAC;;AAGF,QAAA,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAE/E,QAAA,OAAO,GAAG;IACZ;IAEQ,mBAAmB,CAAC,MAAkB,EAAE,GAAyB,EAAA;AACvE,QAAA,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ;AAAE,YAAA,OAAO,MAAM;QAElD,IAAI,CAAC,GAAG,MAAM;AACd,QAAA,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACxC,YAAA,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI;gBAAE;AAEnC,YAAA,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAEf,YAAA,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;AACpB,gBAAA,KAAK,MAAM,IAAI,IAAI,CAAC,EAAE;AACpB,oBAAA,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI;wBAAE;AACzC,oBAAA,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC5C;gBACA;YACF;AAEA,YAAA,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QACtC;AAEA,QAAA,OAAO,CAAC;IACV;AAjOW,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,wBAAwB,4CAGb,iBAAiB,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;AAH5B,IAAA,OAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,wBAAwB,cADX,MAAM,EAAA,CAAA;;4FACnB,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBADpC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;0BAI7B;;0BAAY,MAAM;2BAAC,iBAAiB;;;MCX5B,gBAAgB,CAAA;AAEjB,IAAA,IAAA;AACA,IAAA,OAAA;AAC2B,IAAA,GAAA;AAHrC,IAAA,WAAA,CACU,IAAgB,EAChB,OAAiC,EACN,GAAoB,EAAA;QAF/C,IAAA,CAAA,IAAI,GAAJ,IAAI;QACJ,IAAA,CAAA,OAAO,GAAP,OAAO;QACoB,IAAA,CAAA,GAAG,GAAH,GAAG;IACrC;AAEH,IAAA,iBAAiB,CAAC,EAAU,EAAA;QAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,WAAW;AACnD,QAAA,MAAM,GAAG,GAAG,WAAW,GAAG,CAAA,EAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,WAAW,CAAC,EAAE,CAAC,CAAA,CAAE,GAAG,CAAA,EAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAA,CAAA,EAAI,EAAE,EAAE;QACrG,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAa,GAAG,CAAC;IACvC;IAEA,cAAc,CAAC,MAAwB,EAAE,OAA4B,EAAA;AACnE,QAAA,MAAM,GAAG,GAAI,MAAc,EAAE,SAAS,EAAE,GAAoC;AAE5E,QAAA,MAAM,QAAQ,GACZ,GAAG,EAAE;AACH,cAAE;cACA,MAAM,EAAE;AACV,kBAAE;oBACE,MAAM,EAAG,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,EAAa,WAAW,EAAgB;oBACzE,GAAG,EAAE,MAAM,CAAC,YAAY;AACxB,oBAAA,OAAO,EAAE,EAAE;AACX,oBAAA,WAAW,EAAE,EAAE;AAChB;kBACD,IAAI;AAEV,QAAA,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;YAClB,OAAO,UAAU,CAAC,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;QACzE;AAEA,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE;AACpC,YAAA,SAAS,EAAE,OAAO;AAClB,YAAA,UAAU,EAAE,MAAM,CAAC,UAAU,IAAI,SAAS;AAC1C,YAAA,WAAW,EAAG,MAAM,CAAC,WAAmB,IAAI,MAAM;AACnD,SAAA,CAAC;IACJ;AArCW,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,gBAAgB,iFAIjB,iBAAiB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;AAJhB,IAAA,OAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,gBAAgB,cADH,MAAM,EAAA,CAAA;;4FACnB,gBAAgB,EAAA,UAAA,EAAA,CAAA;kBAD5B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;0BAK7B,MAAM;2BAAC,iBAAiB;;;MCHhB,yBAAyB,CAAA;AAI1B,IAAA,IAAA;AACuC,IAAA,GAAA;AAGvC,IAAA,aAAA;AAPF,IAAA,KAAK,GAAG,IAAI,GAAG,EAA6B;AAEpD,IAAA,WAAA,CACU,IAAgB,EACuB,GAA2B,EAGlE,aAA4C,EAAA;QAJ5C,IAAA,CAAA,IAAI,GAAJ,IAAI;QACmC,IAAA,CAAA,GAAG,GAAH,GAAG;QAG1C,IAAA,CAAA,aAAa,GAAb,aAAa;IACpB;IAEH,IAAI,CAAC,KAAsB,EAAE,UAAgC,EAAA;AAC3D,QAAA,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,EAAE,GAAG;QACpC,IAAI,CAAC,GAAG,EAAE,GAAG;AAAE,YAAA,OAAO,EAAE,CAAC,EAAE,CAAC;AAE5B,QAAA,MAAM,QAAQ,GAAG,CAAA,EAAG,KAAK,CAAC,EAAE,CAAA,EAAA,EAAK,GAAG,CAAC,MAAM,IAAI,KAAK,CAAA,EAAA,EAAK,GAAG,CAAC,GAAG,EAAE;QAClE,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;AACvC,QAAA,IAAI,MAAM;AAAE,YAAA,OAAO,EAAE,CAAC,MAAM,CAAC;QAE7B,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC;AACpC,QAAA,MAAM,MAAM,GAAI,CAAC,GAAG,CAAC,MAAM,IAAI,KAAK,EAAa,WAAW,EAAE;AAE9D,QAAA,MAAM,YAAY,GAAG,GAAG,CAAC,OAAO,KAAK,IAAI,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ;AAEtE,QAAA,IAAI,OAAO,GAAG,IAAI,WAAW,EAAE;QAC/B,IAAI,CAAC,YAAY,EAAE;YACjB,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC;QACjD;aAAO;YACL,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;AACpC,YAAA,IAAI,KAAK;gBAAE,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,CAAA,OAAA,EAAU,KAAK,CAAA,CAAE,CAAC;QACtE;QAEA,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,CACrD,GAAG,CAAC,CAAC,GAAQ,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,EAC5C,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,EAC7C,UAAU,CAAC,CAAC,GAAG,KAAI;AACjB,YAAA,MAAM,GAAG,GAAG,GAAG,EAAE,KAAK,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,yBAAyB;YAC5E,OAAO,UAAU,CAAC,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC,CAAC,CACH;IACH;AAEA,IAAA,KAAK,CAAC,OAAgB,EAAA;QACpB,IAAI,CAAC,OAAO,EAAE;AACZ,YAAA,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAClB;QACF;AACA,QAAA,KAAK,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE;AACtC,YAAA,IAAI,CAAC,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;AAAE,gBAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;QACxD;IACF;AAEQ,IAAA,UAAU,CAAC,GAAW,EAAA;QAC5B,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,EAAE;AAC5B,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;AAChB,QAAA,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;;QAGrC,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,oBAAoB,IAAI,IAAI,CAAC,GAAG,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AAE/F,QAAA,IAAI,CAAC,IAAI;AAAE,YAAA,OAAO,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;AACjD,QAAA,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC;YAAE,OAAO,IAAI,GAAG,CAAC;AACtC,QAAA,OAAO,IAAI,GAAG,GAAG,GAAG,CAAC;IACvB;AAEQ,IAAA,YAAY,CAAC,GAA2B,EAAA;AAC9C,QAAA,MAAM,GAAG,GAAG,GAAG,CAAC,QAAQ,IAAI,cAAc;AAC1C,QAAA,IAAI,GAAG,CAAC,SAAS,KAAK,iBAAiB,EAAE;AACvC,YAAA,OAAO,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC;QACpC;QACA,IAAI,GAAG,CAAC,SAAS,KAAK,eAAe,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;AACvD,YAAA,OAAO,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC;QAClC;AACA,QAAA,IAAI,GAAG,CAAC,SAAS,KAAK,iBAAiB,EAAE;AACvC,YAAA,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,IAAI;QACvC;AACA,QAAA,OAAO,IAAI;IACb;IAEQ,UAAU,CAAC,GAAQ,EAAE,GAA2B,EAAA;AACtD,QAAA,MAAM,EAAE,GAAG,GAAG,CAAC,eAAe;AAC9B,QAAA,MAAM,QAAQ,GAAG,EAAE,EAAE,QAAQ,IAAI,OAAO;AACxC,QAAA,MAAM,QAAQ,GAAG,EAAE,EAAE,QAAQ,IAAI,OAAO;QACxC,MAAM,IAAI,GAAG,EAAE,EAAE,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,GAAG;AAElE,QAAA,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE;AAErF,QAAA,OAAO;AACJ,aAAA,GAAG,CAAC,CAAC,IAAS,MAAM;AACnB,YAAA,KAAK,EAAE,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE;AAC7B,YAAA,KAAK,EAAE,IAAI,GAAG,QAAQ,CAAC;AACxB,SAAA,CAAC;AACD,aAAA,MAAM,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;IAChE;IAEQ,SAAS,CAAC,GAAQ,EAAE,IAAY,EAAA;AACtC,QAAA,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI;AAAE,YAAA,OAAO,GAAG;AAC7B,QAAA,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,IAAI,IAAI,GAAG,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;IACpF;wGAlGW,yBAAyB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAKd,iBAAiB,EAAA,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAE7B,yBAAyB,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;AAPxB,IAAA,OAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,yBAAyB,cADZ,MAAM,EAAA,CAAA;;4FACnB,yBAAyB,EAAA,UAAA,EAAA,CAAA;kBADrC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;0BAM7B;;0BAAY,MAAM;2BAAC,iBAAiB;;0BACpC;;0BACA,MAAM;2BAAC,yBAAyB;;;MCWxB,kBAAkB,CAAA;AAoCnB,IAAA,WAAA;AACA,IAAA,GAAA;AACA,IAAA,IAAA;AACA,IAAA,OAAA;AACA,IAAA,aAAA;AAvCD,IAAA,MAAM;AACN,IAAA,MAAM;AACN,IAAA,YAAY;AACZ,IAAA,gBAAgB;AAChB,IAAA,iBAAiB;AAEhB,IAAA,SAAS,GAAG,IAAI,YAAY,EAAO;AAEnC,IAAA,YAAY,GAAG,IAAI,YAAY,EAAO;AAEtC,IAAA,SAAS,GAAG,IAAI,YAAY,EAAQ;IAE9C,SAAS,GAAG,KAAK;IACjB,SAAS,GAAkB,IAAI;IAE/B,YAAY,GAAG,KAAK;IACpB,WAAW,GAAkB,IAAI;IAEjC,cAAc,GAAe,IAAI;IACjC,IAAI,GAAqB,IAAI;IAE7B,eAAe,GAAG,CAAC;IACnB,aAAa,GAAG,KAAK;AACrB,IAAA,cAAc;IACd,eAAe,GAAG,KAAK;IACvB,eAAe,GAAG,KAAK;IACvB,WAAW,GAAyE,EAAE;IACtF,aAAa,GAA4B,EAAE;IAC3C,cAAc,GAAmE,EAAE;AAE3E,IAAA,aAAa;IACb,eAAe,GAA4B,EAAE;IAC7C,kBAAkB,GAAG,KAAK;IAElC,WAAA,CACU,WAA6B,EAC7B,GAAsB,EACtB,IAAY,EACZ,OAAiC,EACjC,aAAwC,EAAA;QAJxC,IAAA,CAAA,WAAW,GAAX,WAAW;QACX,IAAA,CAAA,GAAG,GAAH,GAAG;QACH,IAAA,CAAA,IAAI,GAAJ,IAAI;QACJ,IAAA,CAAA,OAAO,GAAP,OAAO;QACP,IAAA,CAAA,aAAa,GAAb,aAAa;IACpB;AAEH,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC1C,IAAI,CAAC,IAAI,EAAE;QACb;QACA,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE;AAClD,YAAA,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,cAAe,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC;QAC5E;IACF;IAEQ,IAAI,GAAA;AACV,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI;AAErB,QAAA,IAAI,IAAI,CAAC,MAAM,EAAE;AACf,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAa,CAAC;YACpC;QACF;AAEA,QAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI;AAC1B,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI;AAChB,YAAA,IAAI,CAAC,SAAS,GAAG,+BAA+B;AAChD,YAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;YACxB;QACF;AAEA,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI;AACrB,QAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QAEzB,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC;AACxD,YAAA,IAAI,EAAE,CAAC,GAAQ,KAAI;AACjB,gBAAA,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAK;oBACjB,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,SAAS,IAAI,GAAG,CAAC;AACvC,oBAAA,IAAI,CAAC,SAAS,GAAG,KAAK;AACtB,oBAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;AAC3B,gBAAA,CAAC,CAAC;YACJ,CAAC;AACD,YAAA,KAAK,EAAE,CAAC,CAAC,KAAI;AACX,gBAAA,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAK;AACjB,oBAAA,IAAI,CAAC,SAAS,GAAG,KAAK;oBACtB,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,OAAO,IAAI,4BAA4B;AAC3D,oBAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;AAC1B,gBAAA,CAAC,CAAC;YACJ,CAAC;AACF,SAAA,CAAC;IACJ;IAEQ,uBAAuB,GAAA;QAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,EAAE,MAAM,IAAI,EAAE;AAChD,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,EAAE;AAE3C,QAAA,KAAK,MAAM,CAAC,IAAI,MAAM,EAAE;AACtB,YAAA,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ;gBAAE;AACzB,YAAA,IAAI,CAAC,CAAC,aAAa,EAAE,IAAI,KAAK,KAAK;gBAAE;AAErC,YAAA,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE;YAEvD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC;AAC9C,gBAAA,IAAI,EAAE,CAAC,IAAI,KAAI;AACb,oBAAA,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;AAC1D,oBAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;gBAC1B,CAAC;gBACD,KAAK,EAAE,MAAK;AACV,oBAAA,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG;AACvB,wBAAA,OAAO,EAAE,KAAK;AACd,wBAAA,KAAK,EAAE,yBAAyB;AAChC,wBAAA,OAAO,EAAE,EAAE;qBACZ;AACD,oBAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;gBAC1B,CAAC;AACF,aAAA,CAAC;QACJ;IACF;AAEQ,IAAA,WAAW,CAAC,GAAQ,EAAA;AAC1B,QAAA,MAAM,CAAC,GAAQ,OAAO,GAAG,KAAK,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG;QAC9D,MAAM,QAAQ,IAAc,CAAC,EAAE,QAAQ,IAAI,QAAQ,CAAa;AAEhE,QAAA,MAAM,MAAM,GAAG,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,CAAM,KAAI;AAC9C,YAAA,IAAI,CAAC,EAAE,IAAI,KAAK,MAAM;AAAE,gBAAA,OAAO,EAAE,GAAG,CAAC,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE;AAC1E,YAAA,OAAO,CAAC;AACV,QAAA,CAAC,CAAC;QAEF,IAAI,CAAC,cAAc,GAAG;AACpB,YAAA,GAAG,CAAC;YACJ,QAAQ;AACR,YAAA,MAAM,EAAE,CAAC,EAAE,MAAM,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE;YAC5C,MAAM;AACN,YAAA,KAAK,EAAE,CAAC,EAAE,KAAK,IAAI,EAAE;AACrB,YAAA,QAAQ,EAAE,CAAC,EAAE,QAAQ,IAAI,EAAE;AAC3B,YAAA,OAAO,EAAE,CAAC,EAAE,OAAO,IAAI,EAAE;AACzB,YAAA,KAAK,EAAE,CAAC,EAAE,KAAK,IAAI,EAAE;AACrB,YAAA,OAAO,EAAE,CAAC,EAAE,OAAO,IAAI,EAAE;SAC1B;AAED,QAAA,IAAI,CAAC,eAAe,GAAG,CAAC;AACxB,QAAA,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,cAAe,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC;QAC1E,IAAI,CAAC,iBAAiB,EAAE;QACxB,IAAI,CAAC,eAAe,EAAE;QACtB,IAAI,CAAC,uBAAuB,EAAE;IAChC;AAEA,IAAA,MAAM,CAAC,KAA4B,EAAA;AACjC,QAAA,MAAM,CAAC,GAAI,KAAa,EAAE,IAAI;AAC9B,QAAA,OAAO,CAAC,KAAK,MAAM,IAAI,CAAC,KAAK,WAAW;IAC1C;AAEA,IAAA,QAAQ,CAAC,KAAU,EAAA;AACjB,QAAA,OAAO,KAAK,EAAE,IAAI,EAAE,IAAI,IAAI,EAAE;IAChC;AAEA,IAAA,SAAS,CAAC,KAAU,EAAA;QAClB,OAAO,KAAK,EAAE,IAAI,EAAE,KAAK,IAAI,KAAK,EAAE,KAAK,IAAI,MAAM;IACrD;AAEA,IAAA,QAAQ,CAAC,KAAU,EAAA;AACjB,QAAA,OAAO,KAAK,EAAE,IAAI,EAAE,IAAI,IAAI,EAAE;IAChC;AAEA,IAAA,SAAS,CAAC,KAAU,EAAA;QAClB,MAAM,EAAE,GAAG,KAAK,EAAE,IAAI,EAAE,KAAK,IAAI,EAAE;AACnC,QAAA,MAAM,WAAW,GAAG,EAAE,CAAC,WAAW,IAAI,CAAC;AACvC,QAAA,MAAM,YAAY,GAAG,EAAE,CAAC,YAAY,IAAI,EAAE;AAC1C,QAAA,MAAM,WAAW,GAAG,EAAE,CAAC,WAAW,IAAI,SAAS;AAC/C,QAAA,MAAM,eAAe,GAAG,EAAE,CAAC,eAAe,IAAI,SAAS;AACvD,QAAA,MAAM,SAAS,GAAG,EAAE,CAAC,SAAS,IAAI,SAAS;QAE3C,OAAO;AACL,YAAA,WAAW,EAAE,OAAO;YACpB,WAAW,EAAE,CAAA,EAAG,WAAW,CAAA,EAAA,CAAI;YAC/B,WAAW;YACX,YAAY,EAAE,CAAA,EAAG,YAAY,CAAA,EAAA,CAAI;YACjC,eAAe;AACf,YAAA,KAAK,EAAE,SAAS;AAChB,YAAA,OAAO,EAAE,MAAM;AACf,YAAA,OAAO,EAAE,MAAM;AACf,YAAA,GAAG,EAAE,MAAM;AACX,YAAA,UAAU,EAAE,YAAY;SACzB;IACH;AAEA,IAAA,aAAa,CAAC,KAAU,EAAA;QACtB,MAAM,EAAE,GAAG,KAAK,EAAE,IAAI,EAAE,KAAK,IAAI,EAAE;AACnC,QAAA,MAAM,SAAS,GAAG,EAAE,CAAC,SAAS,IAAI,SAAS;QAC3C,OAAO;AACL,YAAA,KAAK,EAAE,EAAE,CAAC,SAAS,IAAI,SAAS;AAChC,YAAA,QAAQ,EAAE,MAAM;AAChB,YAAA,UAAU,EAAE,GAAG;AACf,YAAA,SAAS,EAAE,KAAK;SACjB;IACH;AAEA,IAAA,UAAU,CAAC,KAAU,EAAA;AACnB,QAAA,OAAO,KAAK,EAAE,IAAI,IAAI,KAAK,EAAE,EAAE;IACjC;AAEA,IAAA,IAAI,CAAC,KAAU,EAAA;AACb,QAAA,OAAO,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI;IACvD;AAEA,IAAA,SAAS,CAAC,KAAU,EAAA;QAClB,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,QAAA,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;IACrD;IAEA,YAAY,CAAC,GAAU,EAAE,KAAsB,EAAA;AAC7C,QAAA,MAAM,KAAK,GAAG,GAAG,CAAC,MAA0B;QAC5C,MAAM,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE;QAEzD,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QAClC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC;AAC7B,QAAA,IAAI,CAAC,CAAC;YAAE;QAER,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAE3D,QAAA,IAAI,OAAO,KAAK,CAAC,QAAQ,KAAK,QAAQ,IAAI,KAAK,CAAC,QAAQ,GAAG,CAAC,EAAE;YAC5D,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC;QAClD;QAEA,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;QACjE,CAAC,CAAC,aAAa,EAAE;QACjB,CAAC,CAAC,sBAAsB,EAAE;IAC5B;AAEA,IAAA,SAAS,CAAC,KAAsB,EAAA;QAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK;AACjC,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,EAAE;AACjB,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAO,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;QACxE,IAAI,CAAC,YAAY,IAAI;AAAE,YAAA,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;QACtC,IAAI,OAAO,QAAQ,KAAK,WAAW,IAAI,CAAC,YAAY,QAAQ,EAAE;AAC5D,YAAA,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC;iBAChB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI;iBAClB,MAAM,CAAC,OAAO,CAAC;QACpB;AACA,QAAA,OAAO,EAAE;IACX;IAEA,UAAU,CAAC,KAAsB,EAAE,OAAyB,EAAA;QAC1D,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,QAAA,IAAI,CAAC,CAAC;YAAE;AACR,QAAA,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;QAChB,CAAC,CAAC,aAAa,EAAE;QACjB,CAAC,CAAC,sBAAsB,EAAE;AAC1B,QAAA,IAAI,OAAO;AAAE,YAAA,OAAO,CAAC,KAAK,GAAG,EAAE;IACjC;AAEA,IAAA,cAAc,GAAG,CAAC,CAAS,EAAE,KAAU,KAAK,KAAK,EAAE,EAAE,IAAI,KAAK,EAAE,IAAI,IAAI,CAAC;AAEzE,IAAA,IAAI,YAAY,GAAA;AACd,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,cAAc;AAC7B,QAAA,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;IAChF;AAEA,IAAA,IAAI,UAAU,GAAA;AACZ,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM;IACjC;AAEA,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,cAAc,EAAE,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC;IACzE;AAEA,IAAA,IAAI,aAAa,GAAA;AACf,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,cAAc;AAC7B,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,EAAE;AAEjB,QAAA,IAAI,CAAC,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;YACjD,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC;YACpD,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,QAAQ,IAAI,EAAE,CAAC;YACzC,IAAI,CAAC,GAAG,CAAC,IAAI;AAAE,gBAAA,OAAO,EAAE;AACxB,YAAA,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE;AACnB,iBAAA,MAAM,CAAC,CAAC,CAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;AAChC,iBAAA,MAAM,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC/C;QAEA,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IACpE;AAEA,IAAA,IAAI,eAAe,GAAA;AACjB,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,cAAc;AAC7B,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,kBAAkB;AAAE,YAAA,OAAO,EAAE;AACtD,QAAA,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;IAClF;AAEA,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,cAAc,EAAE,QAAQ,KAAK,kBAAkB,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC;IAChG;AAEA,IAAA,gBAAgB,CAAC,SAAiB,EAAA;AAChC,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,cAAc;AAC7B,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,EAAE;QACjB,MAAM,OAAO,GAAG,CAAC,CAAC,CAAC,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC;QACvE,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,OAAO,EAAE,QAAQ,IAAI,EAAE,CAAC;AAC5C,QAAA,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE;AACnB,aAAA,MAAM,CAAC,CAAC,CAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;AAChC,aAAA,MAAM,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IAC/C;AAEA,IAAA,aAAa,CAAC,CAAS,EAAA;AACrB,QAAA,IAAI,CAAC,eAAe,GAAG,CAAC;IAC1B;IAEA,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;IACvB;IAEA,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;IAC9D;IAEA,QAAQ,GAAA;AACN,QAAA,MAAM,CAAC,GAAG,IAAI,CAAC,cAAc;AAC7B,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,OAAO;YAAE;AAElC,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa;AAClC,QAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;AACzB,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YAAE;AAE7B,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;IAChF;IAEA,MAAM,GAAA;QACJ,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE;AAExC,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI;AACvB,QAAA,IAAI,CAAC,cAAc,GAAG,SAAS;QAE/B,MAAM,MAAM,GAAQ,IAAI,CAAC,cAAc,EAAE,OAAO,IAAI,EAAE;AACtD,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,EAAE;AAEzC,QAAA,MAAM,iBAAiB,GAAG,SAAS,GAAG,SAAS,CAAC,iBAAiB,KAAK,KAAK,GAAG,IAAI;QAElF,IAAI,iBAAiB,EAAE;AACrB,YAAA,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;AAC5B,YAAA,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE;QACzB;AAEA,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;QAClC,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;AAEjD,QAAA,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE;AACxB,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;YAC5B;QACF;AAEA,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI;AAExB,QAAA,IAAI,CAAC;AACF,aAAA,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE;AACtB,YAAA,SAAS,EAAE,OAAO;YAClB,UAAU,EAAE,IAAI,CAAC,gBAAgB;YACjC,WAAW,EAAE,IAAI,CAAC,iBAAiB;YACnC,UAAU,EAAE,MAAM,CAAC,UAAU;YAC7B,WAAW,EAAE,MAAM,CAAC,WAAW;SAChC;AACA,aAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,CAAC;AAChD,aAAA,SAAS,CAAC;AACT,YAAA,IAAI,EAAE,CAAC,GAAG,KAAI;gBACZ,IAAI,CAAC,cAAc,GAAG;AACpB,oBAAA,IAAI,EAAE,SAAS;AACf,oBAAA,OAAO,EAAE,SAAS,CAAC,cAAc,IAAI,yBAAyB;iBAC/D;AAED,gBAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;oBAClB,OAAO;AACP,oBAAA,QAAQ,EAAE,GAAG;AACb,oBAAA,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,OAAO;AACrC,iBAAA,CAAC;YACJ,CAAC;AACD,YAAA,KAAK,EAAE,CAAC,GAAG,KAAI;gBACb,IAAI,CAAC,cAAc,GAAG;AACpB,oBAAA,IAAI,EAAE,OAAO;oBACb,OAAO,EACL,SAAS,CAAC,YAAY;wBACtB,GAAG,EAAE,KAAK,EAAE,OAAO;AACnB,wBAAA,GAAG,EAAE,OAAO;wBACZ,qCAAqC;iBACxC;gBAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO;AAC9C,gBAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC;YAC7B,CAAC;AACF,SAAA,CAAC;IACN;AAEQ,IAAA,WAAW,CAAC,MAAyB,EAAA;QAC3C,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE;AAChB,QAAA,KAAK,MAAM,CAAC,IAAI,MAAe,EAAE;AAC/B,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBAAE;AACxB,YAAA,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBAAE;AAC7B,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ;gBAAE;YACtB,CAAC,CAAC,aAAa,EAAE;YACjB,CAAC,CAAC,sBAAsB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QAChD;IACF;AAEQ,IAAA,SAAS,CAAC,MAAyB,EAAA;QACzC,IAAI,CAAC,IAAI,CAAC,IAAI;AAAE,YAAA,OAAO,IAAI;AAC3B,QAAA,OAAQ;AACL,aAAA,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;AACjC,aAAA,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;AACpC,aAAA,IAAI,CAAC,CAAC,CAAC,KAAI;AACV,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,IAAK,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC5C,YAAA,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC;AACxC,QAAA,CAAC,CAAC;IACN;IAEA,YAAY,GAAA;QACV,MAAM,EAAE,GAAQ,IAAI,CAAC,cAAc,EAAE,OAAO,IAAI,EAAE;QAClD,MAAM,EAAE,GAAQ,IAAI,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAEhD,OAAO;AACL,YAAA,SAAS,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC;AAC3B,YAAA,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC;AAC/B,YAAA,YAAY,EAAE,EAAE,CAAC,EAAE,CAAC,YAAY,CAAC;AACjC,YAAA,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC;AAC7B,YAAA,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC;AAC7B,YAAA,YAAY,EAAE,EAAE,CAAC,EAAE,CAAC,YAAY,CAAC;AACjC,YAAA,aAAa,EAAE,EAAE,CAAC,EAAE,CAAC,aAAa,CAAC;AACnC,YAAA,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC;AAC/B,YAAA,eAAe,EAAE,EAAE,CAAC,eAAe,IAAI,IAAI;AAC3C,YAAA,KAAK,EAAE,EAAE,CAAC,SAAS,IAAI,IAAI;YAC3B,WAAW,EAAE,EAAE,CAAC,WAAW,GAAG,OAAO,GAAG,IAAI;AAC5C,YAAA,WAAW,EAAE,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,GAAG,IAAI;AACvD,YAAA,WAAW,EAAE,EAAE,CAAC,WAAW,IAAI,IAAI;AACnC,YAAA,YAAY,EAAE,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,IAAI;SAC3D;IACH;AAEA,IAAA,IAAI,iBAAiB,GAAA;QACnB,MAAM,EAAE,GAAQ,IAAI,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;AAChD,QAAA,MAAM,MAAM,GAAG,EAAE,CAAC,qBAAqB,IAAI,SAAS;AACpD,QAAA,MAAM,QAAQ,GAAG,EAAE,CAAC,eAAe,IAAI,SAAS;AAChD,QAAA,MAAM,OAAO,GAAG,EAAE,CAAC,0BAA0B,IAAI,MAAM;AACvD,QAAA,MAAM,SAAS,GAAG,EAAE,CAAC,oBAAoB,IAAI,QAAQ;QAErD,OAAO;YACL,eAAe,EAAE,IAAI,CAAC,eAAe,GAAG,OAAO,GAAG,MAAM;YACxD,KAAK,EAAE,IAAI,CAAC,eAAe,GAAG,SAAS,GAAG,QAAQ;AAClD,YAAA,YAAY,EAAE,EAAE,CAAC,YAAY,GAAG,CAAA,EAAG,EAAE,CAAC,YAAY,CAAA,EAAA,CAAI,GAAG,MAAM;SAChE;IACH;AAEA,IAAA,IAAI,iBAAiB,GAAA;QACnB,MAAM,EAAE,GAAQ,IAAI,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAChD,MAAM,MAAM,GAAG,SAAS;AACxB,QAAA,MAAM,QAAQ,GAAG,EAAE,CAAC,qBAAqB,IAAI,SAAS;AACtD,QAAA,MAAM,UAAU,GAAG,EAAE,CAAC,qBAAqB,IAAI,SAAS;AAExD,QAAA,MAAM,OAAO,GAAG,EAAE,CAAC,0BAA0B,IAAI,MAAM;AACvD,QAAA,MAAM,SAAS,GAAG,EAAE,CAAC,oBAAoB,IAAI,QAAQ;AACrD,QAAA,MAAM,WAAW,GAAG,EAAE,CAAC,0BAA0B,IAAI,UAAU;AAE/D,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe;QAEpC,OAAO;YACL,eAAe,EAAE,OAAO,GAAG,OAAO,GAAG,MAAM;YAC3C,KAAK,EAAE,OAAO,GAAG,SAAS,GAAG,QAAQ;YACrC,MAAM,EAAE,CAAA,UAAA,EAAa,OAAO,GAAG,WAAW,GAAG,UAAU,CAAA,CAAE;AACzD,YAAA,YAAY,EAAE,EAAE,CAAC,YAAY,GAAG,CAAA,EAAG,EAAE,CAAC,YAAY,CAAA,EAAA,CAAI,GAAG,MAAM;SAChE;IACH;AAEA,IAAA,eAAe,CAAC,IAA+B,EAAA;QAC7C,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE;QAC7B,OAAO,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;IACzE;AAEA,IAAA,IAAI,gBAAgB,GAAA;QAClB,MAAM,CAAC,GAAQ,IAAI,CAAC,cAAc,EAAE,OAAO,IAAI,EAAE;AACjD,QAAA,OAAO,CAAC,CAAC,UAAU,KAAK,KAAK;IAC/B;AAEQ,IAAA,gBAAgB,CAAC,OAA4B,EAAA;QACnD,MAAM,UAAU,GAAwB,EAAE;QAE1C,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,cAAc,EAAE,MAAM,IAAI,EAAE,EAAE;YACrD,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;AAClC,YAAA,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC;AAE1B,YAAA,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;gBAC3B,UAAU,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,SAAS,GAAG,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC;YAC9E;iBAAO;AACL,gBAAA,UAAU,CAAC,GAAG,CAAC,GAAG,KAAK;YACzB;QACF;AAEA,QAAA,OAAO,UAAU;IACnB;IAEQ,iBAAiB,GAAA;AACvB,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,YAAY;YAAE;QAE9D,MAAM,KAAK,GAAwB,EAAE;QACrC,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,CAAM,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAE1F,QAAA,KAAK,MAAM,KAAK,IAAI,WAAW,EAAE;YAC/B,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;AAElC,YAAA,MAAM,QAAQ,GACZ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;AACtB,iBAAC,KAAK,EAAE,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;AACzD,iBAAC,KAAK,EAAE,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC;YAEvD,IAAI,QAAQ,KAAK,SAAS;gBAAE;AAE5B,YAAA,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;gBACzB;YACF;AAEA,YAAA,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;gBAC3B,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,KAAK,EAAE,IAAI,QAAQ,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAC3E;YACF;AAEA,YAAA,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;AAC7B,gBAAA,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,MAAM,IAAI,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,GAAG;gBAC3F;YACF;YAEA,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,IAAI,QAAQ,EAAE;AACrC,gBAAA,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;gBAC1C;YACF;AAEA,YAAA,KAAK,CAAC,GAAG,CAAC,GAAG,QAAQ;QACvB;AAEA,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;AAEjD,QAAA,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AAC1B,QAAA,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;IAC7B;AAEA,IAAA,QAAQ,CAAC,KAAU,EAAA;QACjB,OAAO,CAAC,KAAK,EAAE,IAAI,IAAI,EAAE,MAAM,QAAQ;IACzC;AAEQ,IAAA,UAAU,CAAC,KAAU,EAAA;AAC3B,QAAA,MAAM,CAAC,GAAG,KAAK,EAAE,IAAI;QACrB,OAAO,CAAC,KAAK,MAAM,IAAI,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,QAAQ;IAC5D;IAEQ,kBAAkB,GAAA;QACxB,IAAI,CAAC,IAAI,CAAC,IAAI;AAAE,YAAA,OAAO,EAAE;AACzB,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;QAC3B,MAAM,UAAU,GAAwB,EAAE;QAE1C,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,cAAc,EAAE,MAAM,IAAI,EAAE,EAAE;AACrD,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;gBAAE;YAC5B,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;AAClC,YAAA,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;YACtB,UAAU,CAAC,GAAG,CAAC;gBACb,KAAK,CAAC,IAAI,KAAK;AACb,sBAAE,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK;AAC1B,0BAAE;AACF,0BAAE,MAAM,CAAC,KAAK;sBACd,KAAK;QACb;AACA,QAAA,OAAO,UAAU;IACnB;IAEQ,eAAe,GAAA;AACrB,QAAA,IAAI,CAAC,aAAa,EAAE,WAAW,EAAE;QACjC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc;YAAE;QACxC,IAAI,CAAC,mBAAmB,EAAE;AAC1B,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,MAAK;YACzD,IAAI,IAAI,CAAC,kBAAkB;gBAAE;YAC7B,IAAI,CAAC,mBAAmB,EAAE;AAC5B,QAAA,CAAC,CAAC;IACJ;AAEA,IAAA,cAAc,CAAC,KAAU,EAAA;AACvB,QAAA,MAAM,KAAK,GAAG,KAAK,EAAE,UAAU,EAAE,KAAK;AACtC,QAAA,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM;AAAE,YAAA,OAAO,IAAI;QACxC,MAAM,GAAG,GAAG,KAAK,EAAE,EAAE,IAAI,KAAK,EAAE,IAAI;QACpC,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,KAAK;IAC5C;IAEQ,mBAAmB,GAAA;QACzB,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc;YAAE;QACxC,MAAM,GAAG,GAAI,IAAI,CAAC,IAAY,CAAC,WAAW,GAAI,IAAI,CAAC,IAAY,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;AAE/F,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI;AAC9B,QAAA,IAAI;YACF,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,MAAe,EAAE;gBACnD,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC;gBAC/C,MAAM,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI;AAC/B,gBAAA,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,OAAO;AAExC,gBAAA,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAAE;AACxB,gBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3C,gBAAA,IAAI,CAAC,CAAC;oBAAE;AACR,gBAAA,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO;oBAAE,CAAC,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;AAC1D,gBAAA,IAAI,OAAO,IAAI,CAAC,CAAC,QAAQ;oBAAE,CAAC,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC3D;QACF;gBAAU;AACR,YAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK;QACjC;IACF;IAEQ,kBAAkB,CAAC,KAAU,EAAE,GAAwB,EAAA;AAC7D,QAAA,MAAM,GAAG,GAAG,KAAK,EAAE,UAAU;AAC7B,QAAA,MAAM,KAAK,GAAG,GAAG,EAAE,KAAK,IAAI,EAAE;QAC9B,IAAI,CAAC,KAAK,CAAC,MAAM;AAAE,YAAA,OAAO,IAAI;AAC9B,QAAA,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,KAAK,CAAC,CAAC,WAAW,EAAE;QACrD,MAAM,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAC1E,OAAO,IAAI,KAAK,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC;IACxE;IAEQ,sBAAsB,CAAC,IAAS,EAAE,GAAwB,EAAA;QAChE,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,SAAS,CAAC;AACxD,QAAA,MAAM,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;AACvB,QAAA,MAAM,EAAE,GAAG,MAAM,CAAC,IAAI,EAAE,QAAQ,IAAI,QAAQ,CAAC,CAAC,WAAW,EAAE;AAC3D,QAAA,MAAM,GAAG,GAAG,IAAI,EAAE,KAAK;QAEvB,QAAQ,EAAE;AACR,YAAA,KAAK,SAAS;gBACZ,OAAO,CAAC,KAAK,IAAI;AACnB,YAAA,KAAK,WAAW;gBACd,OAAO,CAAC,KAAK,IAAI;AACnB,YAAA,KAAK,WAAW;AACd,gBAAA,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;AAC9B,YAAA,KAAK,eAAe;AAClB,gBAAA,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;AAC7B,YAAA,KAAK,IAAI;AACP,gBAAA,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,KAAK;AACrD,YAAA,KAAK,QAAQ;gBACX,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI;AACrD,YAAA,KAAK,YAAY;gBACf,OAAO,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG;AACxD,YAAA,KAAK,QAAQ;AACb,YAAA;gBACE,OAAO,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG;;IAE3D;AAEQ,IAAA,mBAAmB,CAAC,GAAQ,EAAA;QAClC,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC;AAC3B,QAAA,IAAI,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;AAChB,QAAA,IAAI,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;AAAE,YAAA,OAAO,CAAC;QAC/B,MAAM,MAAM,IAAI,IAAI,CAAC,cAAc,EAAE,MAAM,IAAI,EAAE,CAAU;AAC3D,QAAA,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AAC3C,QAAA,IAAI,IAAI;AAAE,YAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;AACtC,QAAA,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;AAC/C,QAAA,IAAI,MAAM;AAAE,YAAA,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AAC1C,QAAA,OAAO,CAAC;IACV;AAEQ,IAAA,YAAY,CAAC,CAAM,EAAA;AACzB,QAAA,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,SAAS;AAAE,YAAA,OAAO,IAAI;QAC9C,IAAI,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE;AAAE,YAAA,OAAO,IAAI;QACzD,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;AAAE,YAAA,OAAO,IAAI;AACnD,QAAA,OAAO,KAAK;IACd;AAEA,IAAA,mBAAmB,CAAC,KAAU,EAAA;AAC5B,QAAA,MAAM,GAAG,GAAG,KAAK,EAAE,MAAM;AACzB,QAAA,MAAM,QAAQ,GAAG,GAAG,EAAE,GAAG;AACzB,QAAA,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,UAAU,IAAI,CAAC,QAAQ,CAAC;YAAE;AAE1D,QAAA,MAAM,iBAAiB,GAAG,GAAG,CAAC,iBAAiB,KAAK,KAAK;QAEzD,IAAI,iBAAiB,EAAE;YACrB,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,cAAc,EAAE,MAAM,IAAI,EAAE,CAAC;YACzF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAM,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAM,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBAAE;QACrE;AAEA,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,EAAE;QAC3C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI;QACnC,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC;AAEpC,QAAA,IAAI,CAAC;AACF,aAAA,OAAO,CAAC,QAAS,EAAE,EAAE,SAAS,EAAE;AAChC,aAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;AAC3D,aAAA,SAAS,CAAC;YACT,IAAI,EAAE,MAAK;AACT,gBAAA,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;AAC9B,oBAAA,IAAI,EAAE,SAAS;AACf,oBAAA,OAAO,EAAE,GAAG,CAAC,cAAc,IAAI,gCAAgC;iBAChE;YACH,CAAC;AACD,YAAA,KAAK,EAAE,CAAC,GAAG,KAAI;AACb,gBAAA,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;AAC9B,oBAAA,IAAI,EAAE,OAAO;AACb,oBAAA,OAAO,EAAE,GAAG,CAAC,YAAY,IAAI,GAAG,EAAE,KAAK,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,gBAAgB;iBACrF;YACH,CAAC;AACF,SAAA,CAAC;IACN;IAEQ,gBAAgB,GAAA;AACtB,QAAA,MAAM,CAAC,GAAQ,IAAI,CAAC,cAAc,EAAE,OAAO;QAC3C,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE;YAC1B,OAAO;AACL,gBAAA,iBAAiB,EAAE,CAAC,CAAC,SAAS,CAAC,iBAAiB,KAAK,KAAK;AAC1D,gBAAA,cAAc,EAAE,CAAC,CAAC,SAAS,CAAC,cAAc;AAC1C,gBAAA,YAAY,EAAE,CAAC,CAAC,SAAS,CAAC,YAAY;AACtC,gBAAA,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG;aACrB;QACH;AAEA,QAAA,IAAI,CAAC,EAAE,YAAY,EAAE;YACnB,OAAO;AACL,gBAAA,iBAAiB,EAAE,IAAI;AACvB,gBAAA,GAAG,EAAE;AACH,oBAAA,MAAM,GAAG,CAAC,CAAC,MAAM,IAAI,MAAM,CAAQ;oBACnC,GAAG,EAAE,CAAC,CAAC,YAAY;AACnB,oBAAA,OAAO,EAAE,EAAE;AACX,oBAAA,WAAW,EAAE,EAAE;AAChB,iBAAA;aACF;QACH;AAEA,QAAA,OAAO,IAAI;IACb;wGA9sBW,kBAAkB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA,KAAA,EAAAC,wBAAA,EAAA,EAAA,EAAA,KAAA,EAAAC,yBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAlB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,kBAAkB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,YAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,YAAA,EAAA,cAAA,EAAA,SAAA,EAAA,WAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EC3B/B,+5yBA4cM,EAAA,MAAA,EAAA,CAAA,srCAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,UAAA,EAAA,IAAA,EDrbM,YAAY,q2BAAE,mBAAmB,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,aAAA,EAAA,QAAA,EAAA,8CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,cAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,uBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,8MAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,mBAAA,EAAA,QAAA,EAAA,iGAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,4BAAA,EAAA,QAAA,EAAA,uGAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,0BAAA,EAAA,QAAA,EAAA,6GAAA,EAAA,MAAA,EAAA,CAAA,aAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,yBAAA,EAAA,QAAA,EAAA,8FAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,iBAAA,EAAA,OAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,2CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,0FAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,kBAAA,EAAA,QAAA,EAAA,aAAA,EAAA,MAAA,EAAA,CAAA,WAAA,CAAA,EAAA,OAAA,EAAA,CAAA,UAAA,CAAA,EAAA,QAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,MAAA,EAAA,CAAA,iBAAA,EAAA,UAAA,EAAA,SAAA,CAAA,EAAA,OAAA,EAAA,CAAA,eAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;4FAIhC,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAP9B,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,YAAY,cACV,IAAI,EAAA,OAAA,EACP,CAAC,YAAY,EAAE,mBAAmB,CAAC,EAAA,QAAA,EAAA,+5yBAAA,EAAA,MAAA,EAAA,CAAA,srCAAA,CAAA,EAAA;;sBAK3C;;sBACA;;sBACA;;sBACA;;sBACA;;sBAEA;;sBAEA;;sBAEA;;AAssBH,SAAS,EAAE,CAAC,CAAM,EAAA;AAChB,IAAA,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI;AAAE,QAAA,OAAO,IAAI;AAC9C,IAAA,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AACnB,IAAA,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAA,EAAG,CAAC,CAAA,EAAA,CAAI,GAAG,IAAI;AAC7C;;AEhvBA;;AAEG;;;;"}