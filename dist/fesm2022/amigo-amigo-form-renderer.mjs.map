{"version":3,"file":"amigo-amigo-form-renderer.mjs","sources":["../../src/form-group.builder.ts","../../src/auth-token.provider.ts","../../src/amigo-token.interceptor.ts","../../src/config.ts","../../src/amigo-form.service.ts","../../src/amigo-form.component.ts","../../src/amigo-form.component.html","../../amigo-amigo-form-renderer.ts"],"sourcesContent":["import {\n  AbstractControl,\n  FormControl,\n  FormGroup,\n  ValidationErrors,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport { FormFieldSchema } from './models';\n\nexport function buildFormGroup(\n  fields: FormFieldSchema[],\n  initialValue?: Record<string, any>\n): FormGroup {\n  const group: Record<string, FormControl> = {};\n\n  for (const f of fields) {\n    // Info cards are purely visual blocks and must NOT create form controls.\n    if (f.type === 'card' || f.type === 'info-card') continue;\n\n    const v = f.validations ?? {};\n\n    // robust required parsing (boolean OR \"true\"/\"false\" strings)\n    const required =\n      f.required === true || f.required === 'true' || v.required === true;\n\n    const validators: ValidatorFn[] = [];\n\n    // required mapping\n    if (required) {\n      if (f.type === 'checkbox') validators.push(Validators.requiredTrue);\n      else if (f.type === 'file') validators.push(fileRequiredValidator());\n      else validators.push(Validators.required);\n    }\n\n    // string length rules\n    if (typeof v.minLength === 'number')\n      validators.push(Validators.minLength(v.minLength));\n    if (typeof v.maxLength === 'number')\n      validators.push(Validators.maxLength(v.maxLength));\n\n    // numeric/date min/max (note: Angular Validators.min/max are numeric; if you want date min/max, handle separately)\n    if (typeof v.min === 'number') validators.push(Validators.min(v.min));\n    if (typeof v.max === 'number') validators.push(Validators.max(v.max));\n\n    // pattern\n    if (v.pattern) validators.push(Validators.pattern(v.pattern));\n\n    //  email validator like template-driven\n    if (f.type === 'email') validators.push(Validators.email);\n\n    //  file-specific validators\n    if (f.type === 'file') {\n      const maxFiles =\n        typeof f.maxFiles === 'number'\n          ? f.maxFiles\n          : f.multiple\n          ? undefined\n          : 1;\n\n      const maxSizeMB =\n        typeof f.maxSizeMB === 'number' ? f.maxSizeMB : undefined;\n\n      const accept = normalizeAccept(f.accept);\n\n      if (maxFiles !== undefined)\n        validators.push(fileMaxFilesValidator(maxFiles));\n      if (maxSizeMB !== undefined)\n        validators.push(fileMaxSizeValidator(maxSizeMB));\n      if (accept) validators.push(fileAcceptValidator(accept));\n    }\n\n    const key = f.name ?? f.id;\n\n    const init =\n      initialValue?.[key] ??\n      (f.type === 'checkbox'\n        ? false\n        : f.type === 'select' || f.type === 'radio'\n        ? null\n        : f.type === 'file'\n        ? null\n        : '');\n\n    group[key] = new FormControl(init, validators);\n  }\n\n  return new FormGroup(group);\n}\n\n// -----------------------\n// File helpers + validators\n// -----------------------\n\nexport function normalizeAccept(a?: string): string | undefined {\n  if (!a) return undefined;\n  const s = String(a).trim().toLowerCase();\n  if (!s) return undefined;\n\n  // handle common composer shorthand like \"pdf\"\n  if (s === 'pdf') return '.pdf,application/pdf';\n\n  // if already looks valid\n  if (s.startsWith('.') || s.includes('/') || s.includes(',')) return a;\n\n  // fallback: treat as extension\n  return `.${s}`;\n}\n\nfunction normalizeFiles(value: any): File[] {\n  if (!value) return [];\n  if (Array.isArray(value)) return value.filter(Boolean);\n  if (typeof FileList !== 'undefined' && value instanceof FileList) {\n    return Array.from(value);\n  }\n  if (typeof File !== 'undefined' && value instanceof File) {\n    return [value];\n  }\n  return [];\n}\n\nfunction fileRequiredValidator(): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    const files = normalizeFiles(control.value);\n    return files.length ? null : { required: true };\n  };\n}\n\nfunction fileMaxFilesValidator(maxFiles: number): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    const files = normalizeFiles(control.value);\n    return files.length > maxFiles\n      ? { maxFiles: { max: maxFiles, actual: files.length } }\n      : null;\n  };\n}\n\nfunction fileMaxSizeValidator(maxSizeMB: number): ValidatorFn {\n  const maxBytes = maxSizeMB * 1024 * 1024;\n  return (control: AbstractControl): ValidationErrors | null => {\n    const files = normalizeFiles(control.value);\n    const tooBig = files.find((f) => (f?.size ?? 0) > maxBytes);\n    return tooBig\n      ? {\n          maxSizeMB: {\n            max: maxSizeMB,\n            file: tooBig?.name,\n            actualBytes: tooBig?.size,\n          },\n        }\n      : null;\n  };\n}\n\n/**\n * Accept parser supports:\n * - extensions: .pdf\n * - exact mime: application/pdf\n * - wildcards: image/*\n */\nfunction fileAcceptValidator(accept: string): ValidatorFn {\n  const tokens = (accept || '')\n    .split(',')\n    .map((t) => t.trim())\n    .filter(Boolean);\n\n  return (control: AbstractControl): ValidationErrors | null => {\n    const files = normalizeFiles(control.value);\n    if (!files.length || !tokens.length) return null;\n\n    const bad = files.find((f) => !isAcceptedFile(f, tokens));\n    return bad ? { accept: { accept, file: bad.name, type: bad.type } } : null;\n  };\n}\n\nfunction isAcceptedFile(file: File, tokens: string[]): boolean {\n  const name = (file?.name || '').toLowerCase();\n  const type = (file?.type || '').toLowerCase();\n\n  return tokens.some((t) => {\n    const tok = t.toLowerCase();\n    if (!tok) return true;\n\n    // extension\n    if (tok.startsWith('.')) return name.endsWith(tok);\n\n    // wildcard mime, e.g. image/*\n    if (tok.endsWith('/*')) {\n      const prefix = tok.slice(0, tok.length - 1); // keep trailing '/'\n      return type.startsWith(prefix);\n    }\n\n    // exact mime\n    if (tok.includes('/')) {\n      if (type) return type === tok;\n\n      // fallback when browser doesn't provide MIME type\n      if (tok === 'application/pdf') return name.endsWith('.pdf');\n\n      return false;\n    }\n\n    return false;\n  });\n}\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport type AmigoAuthTokenProvider = () => string | null;\r\n\r\n/**\r\n * Host app will provide this.\r\n * Example: () => authService.getAuthToken()\r\n */\r\nexport const AMIGO_AUTH_TOKEN_PROVIDER = new InjectionToken<AmigoAuthTokenProvider>(\r\n  'AMIGO_AUTH_TOKEN_PROVIDER'\r\n);\r\n","import { Inject, Injectable, Optional } from '@angular/core';\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AMIGO_AUTH_TOKEN_PROVIDER, AmigoAuthTokenProvider } from './auth-token.provider';\r\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\r\n\r\n@Injectable()\r\nexport class AmigoTokenInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    @Optional()\r\n    @Inject(AMIGO_AUTH_TOKEN_PROVIDER)\r\n    private tokenProvider: AmigoAuthTokenProvider | null,\r\n    @Optional() @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig | null\r\n  ) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    // If no token provider was registered, just pass through\r\n    if (!this.tokenProvider) return next.handle(req);\r\n\r\n    const token = this.tokenProvider?.();\r\n    if (!token) return next.handle(req);\r\n\r\n    // (Optional) Only attach token for amigo endpoints\r\n    // Helps avoid sending token to 3rd-party URLs.\r\n    if (this.cfg?.apiBaseUrl) {\r\n      const base = this.cfg.apiBaseUrl.replace(/\\/+$/, '');\r\n      const isAmigoCall = req.url.startsWith(base) || req.url.startsWith('/');\r\n      if (!isAmigoCall) return next.handle(req);\r\n    }\r\n\r\n    const authReq = req.clone({\r\n      setHeaders: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    return next.handle(authReq);\r\n  }\r\n}\r\n","import { InjectionToken, Provider } from '@angular/core';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AmigoTokenInterceptor } from './amigo-token.interceptor';\r\nimport { AMIGO_AUTH_TOKEN_PROVIDER, AmigoAuthTokenProvider } from './auth-token.provider';\r\n\r\nexport interface AmigoFormConfig {\r\n  apiBaseUrl: string;\r\n  endpoints?: {\r\n    getFormById?: (id: string) => string;\r\n  };\r\n}\r\n\r\nexport const AMIGO_FORM_CONFIG = new InjectionToken<AmigoFormConfig>('AMIGO_FORM_CONFIG');\r\n\r\nexport function provideAmigoForm(\r\n  config: AmigoFormConfig,\r\n  tokenProvider?: AmigoAuthTokenProvider\r\n): Provider[] {\r\n  const providers: Provider[] = [\r\n    { provide: AMIGO_FORM_CONFIG, useValue: config },\r\n\r\n    // Register interceptor\r\n    { provide: HTTP_INTERCEPTORS, useClass: AmigoTokenInterceptor, multi: true },\r\n  ];\r\n\r\n  // Optional token provider\r\n  if (tokenProvider) {\r\n    providers.push({ provide: AMIGO_AUTH_TOKEN_PROVIDER, useValue: tokenProvider });\r\n  }\r\n\r\n  return providers;\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { AMIGO_FORM_CONFIG, AmigoFormConfig } from './config';\r\nimport { FormActionSchema, FormSchema } from './models';\r\nimport { Observable, throwError } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AmigoFormService {\r\n  constructor(private http: HttpClient, @Inject(AMIGO_FORM_CONFIG) private cfg: AmigoFormConfig) {}\r\n\r\n  getFormSchemaById(id: string): Observable<FormSchema> {\r\n    const pathBuilder = this.cfg.endpoints?.getFormById;\r\n    const url = pathBuilder\r\n      ? `${this.cfg.apiBaseUrl}${pathBuilder(id)}`\r\n      : `${this.cfg.apiBaseUrl}/${id}`;\r\n\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n  /**\r\n   * Calls submit API based on FormActionSchema.\r\n   * - Auto uses FormData if any file exists in payload (or contentType='multipart')\r\n   * - GET uses query params\r\n   */\r\n  submitByAction(\r\n    action: FormActionSchema,\r\n    payload: Record<string, any>,\r\n    schema?: FormSchema\r\n  ): Observable<any> {\r\n    const method = (action?.method ?? 'POST').toUpperCase() as\r\n      | 'GET'\r\n      | 'POST'\r\n      | 'PUT'\r\n      | 'PATCH'\r\n      | 'DELETE';\r\n\r\n    const submitApiUrl = (action?.submitApiUrl || '').trim();\r\n    if (!submitApiUrl) {\r\n      return throwError(() => new Error('No submitApiUrl provided in schema.actions'));\r\n    }\r\n\r\n    const url = this.resolveUrl(submitApiUrl);\r\n\r\n    // optionally wrap payload\r\n    const finalPayload =\r\n      action.payloadKey && action.payloadKey.trim()\r\n        ? { [action.payloadKey.trim()]: payload }\r\n        : payload;\r\n\r\n    // Decide multipart\r\n    const mode = action.contentType ?? 'auto';\r\n    const hasFiles = this.payloadHasFiles(finalPayload);\r\n    const useMultipart = mode === 'multipart' || (mode === 'auto' && hasFiles);\r\n\r\n    if (method === 'GET') {\r\n      const params = this.toHttpParams(finalPayload);\r\n      return this.http.request(method, url, { params });\r\n    }\r\n\r\n    if (useMultipart) {\r\n      const formData = this.toFormData(finalPayload);\r\n      return this.http.request(method, url, { body: formData });\r\n    }\r\n\r\n    // default JSON\r\n    return this.http.request(method, url, { body: finalPayload });\r\n  }\r\n\r\n  private resolveUrl(submitApiUrl: string): string {\r\n    // absolute URL\r\n    if (/^https?:\\/\\//i.test(submitApiUrl)) return submitApiUrl;\r\n\r\n    // relative URL => prefix apiBaseUrl\r\n    const base = (this.cfg.apiBaseUrl || '').replace(/\\/+$/, '');\r\n    const path = submitApiUrl.startsWith('/') ? submitApiUrl : `/${submitApiUrl}`;\r\n    return `${base}${path}`;\r\n  }\r\n\r\n  private payloadHasFiles(obj: any): boolean {\r\n    if (!obj) return false;\r\n\r\n    const isFile = (v: any) => typeof File !== 'undefined' && v instanceof File;\r\n\r\n    const isFileList = (v: any) => typeof FileList !== 'undefined' && v instanceof FileList;\r\n\r\n    if (isFile(obj) || isFileList(obj)) return true;\r\n\r\n    if (Array.isArray(obj)) return obj.some((x) => this.payloadHasFiles(x));\r\n\r\n    if (typeof obj === 'object') {\r\n      return Object.values(obj).some((v) => this.payloadHasFiles(v));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private toFormData(payload: any): FormData {\r\n    const fd = new FormData();\r\n\r\n    const appendValue = (key: string, value: any) => {\r\n      if (value === undefined || value === null) return;\r\n\r\n      // File\r\n      if (typeof File !== 'undefined' && value instanceof File) {\r\n        fd.append(key, value, value.name);\r\n        return;\r\n      }\r\n\r\n      // FileList\r\n      if (typeof FileList !== 'undefined' && value instanceof FileList) {\r\n        Array.from(value).forEach((f) => fd.append(key, f, f.name));\r\n        return;\r\n      }\r\n\r\n      // Array\r\n      if (Array.isArray(value)) {\r\n        // if it's array of Files => append multiple under same key\r\n        value.forEach((v) => appendValue(key, v));\r\n        return;\r\n      }\r\n\r\n      // Object => stringify\r\n      if (typeof value === 'object') {\r\n        fd.append(key, JSON.stringify(value));\r\n        return;\r\n      }\r\n\r\n      // primitives\r\n      fd.append(key, String(value));\r\n    };\r\n\r\n    Object.entries(payload || {}).forEach(([k, v]) => appendValue(k, v));\r\n    return fd;\r\n  }\r\n\r\n  private toHttpParams(payload: any): HttpParams {\r\n    let params = new HttpParams();\r\n\r\n    const add = (key: string, value: any) => {\r\n      if (value === undefined || value === null) return;\r\n\r\n      if (Array.isArray(value)) {\r\n        value.forEach((v) => add(key, v));\r\n        return;\r\n      }\r\n\r\n      if (typeof value === 'object') {\r\n        // objects in GET -> stringify\r\n        params = params.append(key, JSON.stringify(value));\r\n        return;\r\n      }\r\n\r\n      params = params.append(key, String(value));\r\n    };\r\n\r\n    Object.entries(payload || {}).forEach(([k, v]) => add(k, v));\r\n    return params;\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, EventEmitter, Input, NgZone, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup, AbstractControl } from '@angular/forms';\nimport { finalize } from 'rxjs/operators';\n\nimport { FormSchema, FormFieldSchema, FormType, FormActionSchema } from './models';\nimport { AmigoFormService } from './amigo-form.service';\nimport { buildFormGroup, normalizeAccept } from './form-group.builder';\n\n@Component({\n  selector: \"amigo-form\",\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: \"./amigo-form.component.html\",\n  styleUrl: \"./amigo-form.component.css\",\n})\nexport class AmigoFormComponent implements OnChanges {\n  @Input() formId?: string;\n  @Input() schema?: FormSchema;\n  @Input() initialValue?: Record<string, any>;\n\n  /**\n   * Emits:\n   * - if NO submitApiUrl => raw form value (backward compatible)\n   * - if submitApiUrl exists => { payload, response, action }\n   */\n  @Output() submitted = new EventEmitter<any>();\n\n  /** Emits error object when API submit fails */\n  @Output() submitFailed = new EventEmitter<any>();\n\n  @Output() cancelled = new EventEmitter<void>();\n\n  isLoading = false;\n  loadError: string | null = null;\n\n  isSubmitting = false;\n  submitError: string | null = null;\n\n  resolvedSchema: any | null = null;\n  form: FormGroup | null = null;\n\n  activeStepIndex = 0;\n\n  isSubmitHovered = false;\n  isCancelHovered = false;\n\n  constructor(\n    private formService: AmigoFormService,\n    private cdr: ChangeDetectorRef,\n    private zone: NgZone\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes[\"schema\"] || changes[\"formId\"]) {\n      this.init();\n    }\n    if (changes[\"initialValue\"] && this.resolvedSchema) {\n      // If you want to patch when initialValue changes:\n      this.form = buildFormGroup(\n        this.resolvedSchema!.fields,\n        this.initialValue\n      );\n    }\n  }\n\n  private init(): void {\n    this.loadError = null;\n\n    // If schema is provided directly\n    if (this.schema) {\n      this.applySchema(this.schema as any);\n      return;\n    }\n\n    // If neither schema nor formId\n    if (!this.formId) {\n      this.resolvedSchema = null;\n      this.form = null;\n      this.loadError = \"No schema or formId provided.\";\n      this.cdr.detectChanges();\n      return;\n    }\n\n    // Start loading\n    this.isLoading = true;\n    this.cdr.detectChanges(); //  ensure UI shows loading immediately\n\n    this.formService.getFormSchemaById(this.formId).subscribe({\n      next: (res: any) => {\n        //  force inside Angular CD context to update UI\n        this.zone.run(() => {\n          this.applySchema(res?.form_data ?? res);\n          this.isLoading = false;\n          this.cdr.detectChanges(); //  render immediately\n        });\n      },\n      error: (e) => {\n        this.zone.run(() => {\n          this.isLoading = false;\n          this.loadError = e?.message ?? \"Failed to load form schema\";\n          this.cdr.detectChanges();\n        });\n      },\n    });\n  }\n\n  private applySchema(raw: any): void {\n    const s: any = typeof raw === \"string\" ? JSON.parse(raw) : raw;\n    const formType: FormType = (s?.formType ?? \"single\") as FormType;\n\n    const fields = (s?.fields ?? []).map((f: any) => {\n      if (f?.type === \"file\")\n        return { ...f, accept: normalizeAccept(f.accept) };\n      return f;\n    });\n\n    this.resolvedSchema = {\n      ...s,\n      formType,\n      layout: s?.layout ?? { rows: 1, columns: 1 },\n      fields,\n      steps: s?.steps ?? [],\n      sections: s?.sections ?? [],\n      spacing: s?.spacing ?? {},\n      style: s?.style ?? {},\n      actions: s?.actions ?? {},\n    };\n\n    this.activeStepIndex = 0;\n    this.form = buildFormGroup(this.resolvedSchema!.fields, this.initialValue);\n    this.patchInitialValue();\n  }\n\n  // ---------- info cards ----------\n  isCard(field: FormFieldSchema | any): boolean {\n    const t = (field as any)?.type;\n    return t === \"card\" || t === \"info-card\";\n  }\n\n  cardIcon(field: any): string {\n    return field?.card?.icon || \"\";\n  }\n\n  cardTitle(field: any): string {\n    return field?.card?.title || field?.label || \"Info\";\n  }\n\n  cardBody(field: any): string {\n    return field?.card?.body || \"\";\n  }\n\n  cardStyle(field: any): Record<string, any> {\n    const cs = field?.card?.style ?? {};\n    const borderWidth = cs.borderWidth ?? 1;\n    const borderRadius = cs.borderRadius ?? 12;\n    const borderColor = cs.borderColor ?? \"#BBF7D0\";\n    const backgroundColor = cs.backgroundColor ?? \"#F0FDF4\";\n    const textColor = cs.textColor ?? \"#166534\";\n\n    return {\n      borderStyle: \"solid\",\n      borderWidth: `${borderWidth}px`,\n      borderColor,\n      borderRadius: `${borderRadius}px`,\n      backgroundColor,\n      color: textColor,\n      padding: \"12px\",\n      display: \"flex\",\n      gap: \"12px\",\n      alignItems: \"flex-start\",\n    };\n  }\n\n  cardIconStyle(field: any): Record<string, any> {\n    const cs = field?.card?.style ?? {};\n    const textColor = cs.textColor ?? \"#166534\";\n    return {\n      color: cs.iconColor ?? textColor,\n      fontSize: \"18px\",\n      lineHeight: \"1\",\n      marginTop: \"2px\",\n    };\n  }\n\n  // ---------- keys & controls ----------\n  controlKey(field: any): string {\n    return field?.name ?? field?.id;\n  }\n\n  ctrl(field: any): AbstractControl | null {\n    return this.form?.get(this.controlKey(field)) ?? null;\n  }\n\n  showError(field: any): boolean {\n    const c = this.ctrl(field);\n    return !!(c && c.invalid && (c.touched || c.dirty));\n  }\n\n  // ---------- file inputs ----------\n  onFileChange(evt: Event, field: FormFieldSchema): void {\n    const input = evt.target as HTMLInputElement;\n    const files = input?.files ? Array.from(input.files) : [];\n\n    const key = this.controlKey(field);\n    const c = this.form?.get(key);\n    if (!c) return;\n\n    let normalized = field.multiple ? files : files.slice(0, 1);\n\n    if (typeof field.maxFiles === \"number\" && field.maxFiles > 0) {\n      normalized = normalized.slice(0, field.maxFiles);\n    }\n\n    c.setValue(field.multiple ? normalized : normalized[0] ?? null);\n    c.markAsTouched();\n    c.updateValueAndValidity();\n  }\n\n  fileNames(field: FormFieldSchema): string[] {\n    const v = this.ctrl(field)?.value;\n    if (!v) return [];\n    if (Array.isArray(v)) return v.map((f: File) => f?.name).filter(Boolean);\n    if (v instanceof File) return [v.name];\n    if (typeof FileList !== \"undefined\" && v instanceof FileList) {\n      return Array.from(v)\n        .map((f) => f?.name)\n        .filter(Boolean);\n    }\n    return [];\n  }\n\n  clearFiles(field: FormFieldSchema, inputEl: HTMLInputElement): void {\n    const c = this.ctrl(field);\n    if (!c) return;\n    c.setValue(null);\n    c.markAsTouched();\n    c.updateValueAndValidity();\n    if (inputEl) inputEl.value = \"\";\n  }\n\n  // ---------- visibility helpers ----------\n  trackByFieldId = (_: number, field: any) => field?.id ?? field?.name ?? _;\n\n  get orderedSteps() {\n    const s = this.resolvedSchema;\n    return [...(s?.steps ?? [])].sort(\n      (a, b) => (a?.order ?? 0) - (b?.order ?? 0)\n    );\n  }\n\n  get totalSteps(): number {\n    return this.orderedSteps.length;\n  }\n\n  get isMultiStep(): boolean {\n    return this.resolvedSchema?.formType === \"multi\" && this.totalSteps > 0;\n  }\n\n  get visibleFields(): FormFieldSchema[] {\n    const s = this.resolvedSchema;\n    if (!s) return [];\n\n    if (s.formType === \"multi\" && this.totalSteps > 0) {\n      const step = this.orderedSteps[this.activeStepIndex];\n      const ids = new Set(step?.fieldIds ?? []);\n      if (!ids.size) return [];\n      return (s.fields ?? []).filter((f: any) => ids.has(f.id));\n    }\n\n    return s.fields ?? [];\n  }\n\n  get orderedSections() {\n    const s = this.resolvedSchema;\n    if (!s || s.formType !== \"single-sectional\") return [];\n    return [...(s.sections ?? [])].sort(\n      (a, b) => (a?.order ?? 0) - (b?.order ?? 0)\n    );\n  }\n\n  get isSectional(): boolean {\n    return (\n      this.resolvedSchema?.formType === \"single-sectional\" &&\n      this.orderedSections.length > 0\n    );\n  }\n\n  fieldsForSection(sectionId: string): FormFieldSchema[] {\n    const s = this.resolvedSchema;\n    if (!s) return [];\n    const section = (s.sections ?? []).find((x: any) => x.id === sectionId);\n    const ids = new Set(section?.fieldIds ?? []);\n    return (s.fields ?? []).filter((f: any) => ids.has(f.id));\n  }\n\n  setActiveStep(i: number) {\n    this.activeStepIndex = i;\n  }\n\n  // ---------- actions ----------\n  onCancel(): void {\n    this.cancelled.emit();\n  }\n\n  prevStep(): void {\n    this.activeStepIndex = Math.max(0, this.activeStepIndex - 1);\n  }\n\n  nextStep(): void {\n    const s = this.resolvedSchema;\n    if (!s || s.formType !== \"multi\") return;\n\n    const current = this.visibleFields;\n    this.touchFields(current);\n    if (this.hasErrors(current)) return;\n\n    this.activeStepIndex = Math.min(\n      this.totalSteps - 1,\n      this.activeStepIndex + 1\n    );\n  }\n\n  submit(): void {\n    if (!this.resolvedSchema || !this.form) return;\n\n    this.submitError = null;\n\n    this.form.markAllAsTouched();\n\n    if (this.form.invalid) {\n      const invalid = Object.entries(this.form.controls)\n        .filter(([_, c]) => c.invalid)\n        .map(([k, c]) => ({ key: k, errors: c.errors }));\n      console.table(invalid);\n      return;\n    }\n\n    if (this.form.invalid) return;\n\n    const rawPayload = this.form.value;\n    const payload = this.normalizePayload(rawPayload);\n\n    const action: FormActionSchema | undefined = this.resolvedSchema?.actions;\n\n    // If no API config, keep old behavior\n    const hasApi = !!(action?.submitApiUrl && (action?.method || \"POST\"));\n    if (!hasApi) {\n      this.submitted.emit(payload);\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.formService\n      .submitByAction(action!, payload, this.resolvedSchema as any)\n      .pipe(finalize(() => (this.isSubmitting = false)))\n      .subscribe({\n        next: (res) => {\n          this.submitted.emit({\n            payload,\n            response: res,\n            action,\n          });\n        },\n        error: (err) => {\n          this.submitError =\n            err?.error?.message ??\n            err?.message ??\n            \"Failed to submit. Please try again.\";\n          this.submitFailed.emit(err);\n        },\n      });\n  }\n\n  private touchFields(fields: FormFieldSchema[]): void {\n    if (!this.form) return;\n    for (const f of fields as any[]) {\n      if (this.isCard(f)) continue;\n      const c = this.form.get(this.controlKey(f));\n      c?.markAsTouched();\n      c?.updateValueAndValidity();\n    }\n  }\n\n  private hasErrors(fields: FormFieldSchema[]): boolean {\n    if (!this.form) return true;\n    return (fields as any[])\n      .filter((f) => !this.isCard(f))\n      .some((f) => this.form!.get(this.controlKey(f))?.invalid);\n  }\n\n  // ---------- styling helpers ----------\n  getFormStyle(): Record<string, any> {\n    const sp: any = this.resolvedSchema?.spacing ?? {};\n    const st: any = this.resolvedSchema?.style ?? {};\n\n    return {\n      marginTop: px(sp.marginTop),\n      marginRight: px(sp.marginRight),\n      marginBottom: px(sp.marginBottom),\n      marginLeft: px(sp.marginLeft),\n      paddingTop: px(sp.paddingTop),\n      paddingRight: px(sp.paddingRight),\n      paddingBottom: px(sp.paddingBottom),\n      paddingLeft: px(sp.paddingLeft),\n      backgroundColor: st.backgroundColor ?? null,\n      color: st.textColor ?? null,\n      borderStyle: st.borderWidth ? \"solid\" : null,\n      borderWidth: st.borderWidth ? px(st.borderWidth) : null,\n      borderColor: st.borderColor ?? null,\n      borderRadius: st.borderRadius ? px(st.borderRadius) : null,\n    };\n  }\n\n  get submitButtonStyle(): { [key: string]: string } {\n    const st: any = this.resolvedSchema?.style ?? {};\n    const baseBg = st.buttonBackgroundColor ?? \"#111827\";\n    const baseText = st.buttonTextColor ?? \"#ffffff\";\n    const hoverBg = st.buttonHoverBackgroundColor ?? baseBg;\n    const hoverText = st.buttonHoverTextColor ?? baseText;\n\n    return {\n      backgroundColor: this.isSubmitHovered ? hoverBg : baseBg,\n      color: this.isSubmitHovered ? hoverText : baseText,\n      borderRadius: st.borderRadius ? `${st.borderRadius}px` : \"10px\",\n    };\n  }\n\n  get cancelButtonStyle(): { [key: string]: string } {\n    const st: any = this.resolvedSchema?.style ?? {};\n    const baseBg = \"#FFFFFF\";\n    const baseText = st.buttonBackgroundColor ?? \"#111827\";\n    const baseBorder = st.buttonBackgroundColor ?? \"#111827\";\n\n    const hoverBg = st.buttonHoverBackgroundColor ?? baseBg;\n    const hoverText = st.buttonHoverTextColor ?? baseText;\n    const hoverBorder = st.buttonHoverBackgroundColor ?? baseBorder;\n\n    const isHover = this.isCancelHovered;\n\n    return {\n      backgroundColor: isHover ? hoverBg : baseBg,\n      color: isHover ? hoverText : baseText,\n      border: `1px solid ${isHover ? hoverBorder : baseBorder}`,\n      borderRadius: st.borderRadius ? `${st.borderRadius}px` : \"10px\",\n    };\n  }\n\n  isBootstrapIcon(icon: string | null | undefined): boolean {\n    const v = (icon || \"\").trim();\n    return v.startsWith(\"bi \") || v.startsWith(\"bi-\") || v.includes(\" bi-\");\n  }\n\n  get showCancelButton(): boolean {\n    const a: any = this.resolvedSchema?.actions ?? {};\n    return a.showCancel !== false;\n  }\n\n  private normalizePayload(payload: Record<string, any>): Record<string, any> {\n    const normalized: Record<string, any> = {};\n\n    for (const field of this.resolvedSchema?.fields ?? []) {\n      const key = this.controlKey(field);\n      const value = payload[key];\n\n      //  ONLY for number fields\n      if (field.type === \"number\") {\n        normalized[key] =\n          value === \"\" || value === undefined ? null : Number(value);\n      } else {\n        //  Do NOT touch text / other fields\n        normalized[key] = value;\n      }\n    }\n\n    return normalized;\n  }\n\n  private patchInitialValue(): void {\n    if (!this.form || !this.resolvedSchema || !this.initialValue) return;\n\n    const patch: Record<string, any> = {};\n    const inputFields = (this.resolvedSchema.fields ?? []).filter(\n      (f: any) => !this.isCard(f)\n    );\n\n    for (const field of inputFields) {\n      const key = this.controlKey(field);\n\n      // allow matching by name or id (in case parent sends either)\n      const incoming =\n        this.initialValue[key] ??\n        (field?.name ? this.initialValue[field.name] : undefined) ??\n        (field?.id ? this.initialValue[field.id] : undefined);\n\n      if (incoming === undefined) continue;\n\n      // File inputs: cannot set the actual <input type=file> UI value.\n      // Best practice: ignore or store separately to display \"existing files\".\n      if (field.type === \"file\") {\n        // If you still want the FormControl to hold metadata, you can:\n        // patch[key] = incoming; // e.g., [{name,url}]\n        continue;\n      }\n\n      // Normalize common types\n      if (field.type === \"number\") {\n        patch[key] =\n          incoming === \"\" || incoming === null ? null : Number(incoming);\n        continue;\n      }\n\n      if (field.type === \"checkbox\") {\n        patch[key] =\n          incoming === true ||\n          incoming === \"true\" ||\n          incoming === 1 ||\n          incoming === \"1\";\n        continue;\n      }\n\n      // date expects yyyy-mm-dd for <input type=\"date\">\n      if (field.type === \"date\" && incoming) {\n        patch[key] = String(incoming).slice(0, 10);\n        continue;\n      }\n\n      patch[key] = incoming;\n    }\n\n    // only patch existing controls\n    this.form.patchValue(patch, { emitEvent: false });\n\n    // optional: keep form “clean” after prefill\n    this.form.markAsPristine();\n    this.form.markAsUntouched();\n  }\n}\n\nfunction px(v: any): string | null {\n  if (v === undefined || v === null) return null;\n  const n = Number(v);\n  return Number.isFinite(n) ? `${n}px` : null;\n}\n","<div class=\"w-full h-full flex flex-col mb-6 overflow-auto\">\n\n    <!-- Loading -->\n    <div *ngIf=\"isLoading\" class=\"flex items-center justify-center p-6 text-sm text-gray-600\">\n        Loading form…\n    </div>\n\n    <!-- Error -->\n    <div *ngIf=\"loadError\" class=\"p-3 rounded border border-red-200 bg-red-50 text-red-700 text-sm\">\n        {{ loadError }}\n    </div>\n\n    <!-- Empty -->\n    <div *ngIf=\"!isLoading && !loadError && (!resolvedSchema?.fields || resolvedSchema.fields.length === 0)\"\n        class=\"flex justify-center items-center h-100 border border-dotted border-gray-300 rounded-xl bg-white\">\n        <h2 class=\"text-sm text-gray-600\">No fields found for this form schema.</h2>\n    </div>\n\n    <form *ngIf=\"!isLoading && !loadError && resolvedSchema?.fields?.length && form\" [formGroup]=\"form\" class=\"text-sm\"\n        [ngStyle]=\"getFormStyle()\" [ngClass]=\"resolvedSchema?.style?.formClass || ''\" (ngSubmit)=\"submit()\">\n        <h2 class=\"text-2xl my-2\">{{ resolvedSchema.name }}</h2>\n\n        <p *ngIf=\"resolvedSchema.description\" class=\"text-[13px] text-gray-500 mb-4\">\n            {{ resolvedSchema.description }}\n        </p>\n\n        <!-- MULTI STEP PROGRESS -->\n        <div *ngIf=\"isMultiStep\" class=\"w-full mb-6 flex flex-col items-center my-3\">\n        \n            <!-- progress bar -->\n            <div class=\"w-full h-1 bg-gray-200 rounded-full relative mb-6\">\n                <div class=\"h-1 rounded-full transition-all duration-300\" [ngStyle]=\"{\n                width: ((activeStepIndex + 1) / totalSteps) * 100 + '%',\n                backgroundColor: submitButtonStyle['backgroundColor']\n              }\">\n                </div>\n            </div>\n        \n            <!-- step circles -->\n            <div class=\"flex items-center justify-center gap-10\">\n                <div *ngFor=\"let step of orderedSteps; let i = index\" class=\"flex flex-col items-center cursor-pointer\"\n                    (click)=\"setActiveStep(i)\">\n        \n                    <div class=\"w-10 h-10 flex items-center justify-center rounded-full border-2 transition-all duration-300\"\n                        [ngStyle]=\"\n                  i === activeStepIndex\n                    ? {\n                        backgroundColor: submitButtonStyle['backgroundColor'],\n                        borderColor: submitButtonStyle['backgroundColor'],\n                        color: submitButtonStyle['color']\n                      }\n                    : {\n                        backgroundColor: '#FFFFFF',\n                        borderColor: '#9CA3AF',\n                        color: '#374151'\n                      }\n                \">\n        \n                        <!-- if no icon -->\n                        <ng-container *ngIf=\"!step.icon\">\n                            {{ i + 1 }}\n                        </ng-container>\n        \n                        <!-- if icon -->\n                        <ng-container *ngIf=\"step.icon\">\n                            <i [class]=\"step.icon\" class=\"text-lg\" [ngStyle]=\"\n                      i === activeStepIndex\n                        ? { color: submitButtonStyle['color'] }\n                        : { color: '#6B7280' }\n                    \">\n                            </i>\n                        </ng-container>\n        \n                    </div>\n        \n                    <div class=\"mt-2 text-xs text-gray-600 font-medium\">\n                        {{ step.label }}\n                    </div>\n                </div>\n            </div>\n        \n            <div *ngIf=\"visibleFields.length === 0\" class=\"text-xs text-gray-500 my-5\">\n                No fields assigned to this step yet.\n            </div>\n        </div>\n\n\n        <!-- SINGLE-SECTIONAL MODE -->\n        <div *ngIf=\"isSectional; else normalOrMulti\">\n            <div *ngFor=\"let sec of orderedSections\" class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-2 border-b border-gray-200 pb-2\">\n                    <h3 class=\"text-[11px] font-semibold uppercase text-blue-700\">{{ sec.label }}</h3>\n                    <span class=\"text-[11px] text-gray-500\">{{ fieldsForSection(sec.id).length }} fields</span>\n                </div>\n\n                <div class=\"grid\" [ngStyle]=\"{\n            'grid-template-columns': 'repeat(' + (resolvedSchema.layout?.columns || 1) + ', minmax(0, 1fr))',\n            'column-gap': (resolvedSchema.spacing?.gapX ?? 12) + 'px',\n            'row-gap': (resolvedSchema.spacing?.gapY ?? 12) + 'px'\n          }\">\n                    <div *ngFor=\"let field of fieldsForSection(sec.id); trackBy: trackByFieldId\"\n                        [ngStyle]=\"{ 'grid-column': 'span ' + (field.colSpan || 1) }\"\n                        [ngClass]=\"resolvedSchema.style?.fieldWrapperClass || 'mb-3'\">\n                        <ng-container *ngTemplateOutlet=\"fieldRenderer; context: { $implicit: field }\"></ng-container>\n                    </div>\n                </div>\n\n                <div *ngIf=\"fieldsForSection(sec.id).length === 0\" class=\"text-xs text-gray-500 mt-2\">\n                    No fields in this section yet.\n                </div>\n            </div>\n        </div>\n\n        <!-- NORMAL (single) + MULTI -->\n        <ng-template #normalOrMulti>\n            <div class=\"grid\" [ngStyle]=\"{\n          'grid-template-columns': 'repeat(' + (resolvedSchema.layout?.columns || 1) + ', minmax(0, 1fr))',\n          'column-gap': (resolvedSchema.spacing?.gapX ?? 12) + 'px',\n          'row-gap': (resolvedSchema.spacing?.gapY ?? 12) + 'px'\n        }\">\n                <div *ngFor=\"let field of visibleFields; trackBy: trackByFieldId\"\n                    [ngStyle]=\"{ 'grid-column': 'span ' + (field.colSpan || 1) }\"\n                    [ngClass]=\"resolvedSchema.style?.fieldWrapperClass || 'mb-3'\">\n                    <ng-container *ngTemplateOutlet=\"fieldRenderer; context: { $implicit: field }\"></ng-container>\n                </div>\n            </div>\n        </ng-template>\n\n        <!-- Multi-step nav -->\n        <div *ngIf=\"isMultiStep\" class=\"mt-4 flex items-center justify-between text-xs\">\n            <button type=\"button\" class=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50\"\n                (click)=\"prevStep()\" [disabled]=\"activeStepIndex === 0\">\n                ← Previous step\n            </button>\n\n            <button type=\"button\" class=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50\"\n                (click)=\"nextStep()\" [disabled]=\"activeStepIndex === totalSteps - 1\">\n                Next step →\n            </button>\n        </div>\n\n        <!-- Submit error (API) -->\n        <div *ngIf=\"submitError\" class=\"mt-3 p-3 rounded border border-red-200 bg-red-50 text-red-700 text-sm\">\n            {{ submitError }}\n        </div>\n        \n        <!-- Actions -->\n        <div class=\"mt-4 flex items-center gap-2\">\n            <button type=\"submit\" (mouseenter)=\"isSubmitHovered = true\" (mouseleave)=\"isSubmitHovered = false\"\n                [ngStyle]=\"submitButtonStyle\" [disabled]=\"isSubmitting\"\n                [ngClass]=\"resolvedSchema.style?.buttonClass || 'px-4 py-2 rounded text-sm font-medium disabled:opacity-60 disabled:cursor-not-allowed'\">\n                {{ isSubmitting ? 'Submitting...' : (resolvedSchema.actions?.submitLabel || 'Submit') }}\n            </button>\n        \n            <button *ngIf=\"showCancelButton\" type=\"button\" (click)=\"onCancel()\" (mouseenter)=\"isCancelHovered = true\"\n                (mouseleave)=\"isCancelHovered = false\" [disabled]=\"isSubmitting\" [ngStyle]=\"cancelButtonStyle\"\n                [ngClass]=\"resolvedSchema.style?.buttonClass || 'px-4 py-2 rounded text-sm font-medium disabled:opacity-60 disabled:cursor-not-allowed'\">\n                {{ resolvedSchema.actions?.cancelLabel || 'Cancel' }}\n            </button>\n        </div>\n\n\n        <!-- Field renderer template -->\n        <ng-template #fieldRenderer let-field>\n            <!-- INFO CARD (non-input block) -->\n            <ng-container *ngIf=\"isCard(field); else inputField\">\n                <div [ngStyle]=\"cardStyle(field)\" class=\"w-full flex items-start gap-3\">\n                    <!-- Icon -->\n                    <div class=\"shrink-0 mt-0.5 text-lg leading-none\" [ngStyle]=\"cardIconStyle(field)\">\n                        <!-- If it's a bootstrap-icons class like \"bi bi-shield-check\" -->\n                        <i *ngIf=\"isBootstrapIcon(cardIcon(field))\" [class]=\"cardIcon(field)\"></i>\n            \n                        <!-- Else treat it like a normal emoji/text icon -->\n                        <span *ngIf=\"!isBootstrapIcon(cardIcon(field))\">{{ cardIcon(field) }}</span>\n                    </div>\n            \n                    <!-- Content -->\n                    <div class=\"min-w-0\">\n                        <div class=\"text-sm font-semibold leading-tight\">\n                            {{ cardTitle(field) }}\n                        </div>\n            \n                        <div *ngIf=\"cardBody(field)\" class=\"mt-1 text-xs opacity-90\">\n                            {{ cardBody(field) }}\n                        </div>\n                    </div>\n                </div>\n            </ng-container>\n\n\n            <!-- INPUT FIELD -->\n            <ng-template #inputField>\n                <label [ngClass]=\"resolvedSchema?.style?.labelClass || 'block text-sm font-medium mb-1'\">\n                    {{ field.label }}\n                    <span *ngIf=\"field.required === true || field.required === 'true' || field.validations?.required\"\n                        class=\"text-red-500\">*</span>\n                </label>\n\n                <ng-container [ngSwitch]=\"field.type\">\n\n                <!-- TEXT -->\n                <ng-container *ngSwitchCase=\"'text'\">\n                    <input type=\"text\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                            Minimum {{ field.validations?.minLength }} characters required.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                            Maximum {{ field.validations?.maxLength }} characters allowed.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.</div>\n                    </div>\n                </ng-container>\n\n                <!-- PASSWORD -->\n                <ng-container *ngSwitchCase=\"'password'\">\n                    <input type=\"password\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                            Minimum {{ field.validations?.minLength }} characters required.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                            Maximum {{ field.validations?.maxLength }} characters allowed.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.</div>\n                    </div>\n                </ng-container>\n\n                <!-- NUMBER -->\n                <ng-container *ngSwitchCase=\"'number'\">\n                    <input type=\"number\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['min']\">Value should be ≥ {{ field.validations?.min }}.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['max']\">Value should be ≤ {{ field.validations?.max }}.</div>\n                    </div>\n                </ng-container>\n\n                <!-- EMAIL -->\n                <ng-container *ngSwitchCase=\"'email'\">\n                    <input type=\"email\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['email']\">Please enter a valid email address.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                            Minimum {{ field.validations?.minLength }} characters required.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                            Maximum {{ field.validations?.maxLength }} characters allowed.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.</div>\n                    </div>\n                </ng-container>\n\n                <!-- TEXTAREA -->\n                <ng-container *ngSwitchCase=\"'textarea'\">\n                    <textarea [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\" rows=\"4\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\"></textarea>\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['minlength']\">\n                            Minimum {{ field.validations?.minLength }} characters required.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxlength']\">\n                            Maximum {{ field.validations?.maxLength }} characters allowed.\n                        </div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['pattern']\">Value does not match the required pattern.</div>\n                    </div>\n                </ng-container>\n\n                <!-- SELECT -->\n                <ng-container *ngSwitchCase=\"'select'\">\n                    <select [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\">\n                        <option [ngValue]=\"null\" disabled>\n                            {{ field.placeholder || 'Select an option' }}\n                        </option>\n                        <option *ngFor=\"let opt of field.options || []\" [ngValue]=\"opt.value\">\n                            {{ opt.label }}\n                        </option>\n                    </select>\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">Please select an option.</div>\n                    </div>\n                </ng-container>\n\n                <!-- CHECKBOX -->\n                <ng-container *ngSwitchCase=\"'checkbox'\">\n                    <div class=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" [formControlName]=\"controlKey(field)\" />\n                        <span class=\"text-xs text-gray-700\">Check</span>\n                    </div>\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['requiredTrue']\">Please check this box.</div>\n                    </div>\n                </ng-container>\n\n                <!-- RADIO -->\n                <ng-container *ngSwitchCase=\"'radio'\">\n                    <div\n                        [ngClass]=\"field.optionDirection === 'horizontal' ? 'flex flex-row gap-4 items-center' : 'flex flex-col gap-1'\">\n                        <label *ngFor=\"let opt of field.options || []\"\n                            class=\"inline-flex items-center gap-2 text-xs text-gray-700\">\n                            <input type=\"radio\" [value]=\"opt.value\" [formControlName]=\"controlKey(field)\" />\n                            <span>{{ opt.label }}</span>\n                        </label>\n                    </div>\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">Please choose an option.</div>\n                    </div>\n                </ng-container>\n\n                <!-- DATE -->\n                <ng-container *ngSwitchCase=\"'date'\">\n                    <input type=\"date\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['min']\">Date should be on or after {{ field.validations?.min\n                            }}.</div>\n                        <div *ngIf=\"ctrl(field)?.errors?.['max']\">Date should be on or before {{ field.validations?.max\n                            }}.</div>\n                    </div>\n                </ng-container>\n\n                <!-- FILE -->\n                <ng-container *ngSwitchCase=\"'file'\">\n                    <div class=\"flex flex-col gap-2\">\n                        <div class=\"flex items-center gap-2\">\n                            <input #fileInput type=\"file\" [attr.accept]=\"field.accept || null\"\n                                [attr.multiple]=\"field.multiple ? '' : null\" (change)=\"onFileChange($event, field)\"\n                                (blur)=\"ctrl(field)?.markAsTouched()\"\n                                [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n\n                            <button *ngIf=\"fileNames(field).length\" type=\"button\"\n                                class=\"px-2 py-1 text-[11px] border border-gray-300 rounded hover:bg-gray-100\"\n                                (click)=\"clearFiles(field, fileInput)\">\n                                Clear\n                            </button>\n                        </div>\n\n                        <div class=\"text-[11px] text-gray-500\">\n                            <span *ngIf=\"field.accept\">Allowed: {{ field.accept }}</span>\n                            <span *ngIf=\"field.maxSizeMB\"> • Max {{ field.maxSizeMB }}MB per file</span>\n                            <span *ngIf=\"field.maxFiles\"> • Max {{ field.maxFiles }} file(s)</span>\n                        </div>\n\n                        <div *ngIf=\"fileNames(field).length\" class=\"text-[11px] text-gray-600\">\n                            Selected: {{ fileNames(field).join(', ') }}\n                        </div>\n                    </div>\n\n                    <div *ngIf=\"showError(field)\" class=\"mt-1 text-[11px] text-red-600 space-y-0.5\">\n                        <div *ngIf=\"ctrl(field)?.errors?.['required']\">This field is required.</div>\n\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxFiles']\">\n                            You can upload up to {{ ctrl(field)?.errors?.['maxFiles']?.max }} file(s).\n                        </div>\n\n                        <div *ngIf=\"ctrl(field)?.errors?.['maxSizeMB']\">\n                            {{ ctrl(field)?.errors?.['maxSizeMB']?.file }} is too large. Max\n                            {{ ctrl(field)?.errors?.['maxSizeMB']?.max }}MB.\n                        </div>\n\n                        <div *ngIf=\"ctrl(field)?.errors?.['accept']\">\n                            {{ ctrl(field)?.errors?.['accept']?.file }} is not an allowed file type.\n                        </div>\n                    </div>\n                </ng-container>\n\n                <!-- DEFAULT -->\n                <ng-container *ngSwitchDefault>\n                    <input type=\"text\" [placeholder]=\"field.placeholder\" [formControlName]=\"controlKey(field)\"\n                        [ngClass]=\"resolvedSchema?.style?.inputClass || 'w-full border border-gray-300 rounded px-2 py-1 text-sm'\" />\n                </ng-container>\n\n                </ng-container>\n            </ng-template>\n        </ng-template>\n    </form>\n</div>","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.AmigoFormService"],"mappings":"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"}